{"version":3,"sources":["webpack:///./src/components/Sidebar.vue?22f5","webpack:///./src/components/Setting.vue?8547","webpack:///./src/components/Palette/PaletteColor.vue?5055","webpack:///./src/App.vue","webpack:///./src/App.vue?315a","webpack:///./src/views/Home.vue","webpack:///./src/units/color.js","webpack:///./src/units/pixelit.js","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Setting.vue","webpack:///./src/components/Palette/index.vue","webpack:///./src/components/Palette/PaletteColor.vue","webpack:///src/components/Palette/PaletteColor.vue","webpack:///./src/components/Palette/PaletteColor.vue?c64d","webpack:///./src/components/Palette/PaletteColor.vue?ea28","webpack:///./src/units/validator.js","webpack:///src/components/Palette/index.vue","webpack:///./src/components/Palette/index.vue?47b5","webpack:///./src/components/Palette/index.vue?6335","webpack:///src/components/Setting.vue","webpack:///./src/components/Setting.vue?6f63","webpack:///./src/components/Setting.vue?52ed","webpack:///./src/components/Uploader.vue","webpack:///./src/components/Cropper.vue","webpack:///src/components/Cropper.vue","webpack:///./src/components/Cropper.vue?880e","webpack:///./src/components/Cropper.vue?dca3","webpack:///src/components/Uploader.vue","webpack:///./src/components/Uploader.vue?2aad","webpack:///./src/components/Uploader.vue?42b9","webpack:///./src/units/image.js","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?bfa1","webpack:///./src/components/Sidebar.vue?1ff0","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?73d4","webpack:///./src/views/Home.vue?f957","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/constants/index.js","webpack:///./src/components/Uploader.vue?a01b","webpack:///./src/App.vue?5657","webpack:///./src/store/modules sync \\.js$","webpack:///./src/views/Home.vue?13f7","webpack:///./src/store/modules/app.js","webpack:///./src/components/Palette/index.vue?ce2a","webpack:///./src/components/Cropper.vue?3d7e"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","script","component","staticClass","px","showCanvas","ref","class","hidden","canvasReady","statistics","_l","item","idx","key","style","background","color","isLightColor","_v","_s","no","count","_e","k_L","k_C","k_H","pow25To7","deg2Rad","deg","Math","PI","rad2Deg","rad","deg360InRad","deg180InRad","K1","K2","r","g","b","RGB2HEX","R","G","B","strHex","rgb","i","length","hex","Number","toString","HEX2RGB","toLowerCase","colorNew","slice","concat","push","parseInt","RGB2XYZ","gamma","c","pow","RR","GG","BB","XYZ2Lab","X","Y","Z","PARAM_13333","PARAM_16116","PARAM_77870","PARAM_00088","Xn","Yn","Zn","ft","t","fX","fY","fZ","max","RGB2Lab","LabToLch","L","a","C","sqrt","H","atan2","RGB2HSV","min","S","V","delta","HSV2RGB","round","h","floor","f","p","q","HSV2HSL","HSL2HSV","l","s","RGB2HSL","HSL2RGB","euclidean1","RGBColor1","RGBColor2","r1","g1","b1","r2","g2","b2","deltaR","deltaG","deltaB","euclidean2","euclidean3","rBar","CIEDE76","LabColor1","LabColor2","d","CIEDE94","L1","a1","L2","a2","c1","c2","deltaL","deltaa","deltab","deltaC","deltaH","S_L","S_C","S_H","CIEDE2000","C1","C2","CBar","a1Prime","a2Prime","C1Prime","C2Prime","h1Prime","h2Prime","deltaLPrime","deltaCPrime","CPrimeProduct","deltahPrime","deltaHPrime","sin","LBar","CBarPrime","HBarPrime","hPrimeSum","abs","T","cos","R_T_C","R_T","exp","cmc","_","h1","__","___","c1Pow4","F","sl","sc","sh","deltaA","ALGORITHMS","CIE76","CIE94","CIE2000","Euclidean_1","Euclidean_2","Euclidean_3","CMC","LAB_ALGORITHMS","Pixelit","constructor","config","drawto","to","document","getElementById","drawfrom","from","similarColorAlgorithm","pixelW","pixelH","palette","height","width","ctx","getContext","paletteMap","paletteLab","includes","map","forEach","join","hideFromImg","visibility","position","top","left","setFromImgSource","src","setDrawFrom","elem","setDrawTo","setPalette","arr","setSimilarColorAlgorithm","setWidth","setHeight","setPixelW","setPixelH","getPalette","getPaletteMap","colorSim","compareColor","type","similarColor","actualColor","selectedColor","minSim","Infinity","_color","currSim","pixelate","naturalWidth","naturalHeight","tempCanvas","createElement","tempContext","drawImage","body","appendChild","mozImageSmoothingEnabled","webkitImageSmoothingEnabled","imageSmoothingEnabled","remove","convertGrayscale","w","imgPixels","getImageData","y","x","avg","data","putImageData","convertPalette","index","finalcolor","k","resizeImage","canvasCopy","copyContext","draw","drawLine","unit","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","fillNumbers","containColorKeys","Object","keys","colors","filter","font","textBaseline","textAlign","offset","fillStyle","j","fillText","saveImage","link","download","href","toDataURL","replace","querySelector","click","removeChild","model","value","algorithm","callback","$$v","$set","expression","havePalette","fillNums","formatTooltip","canvasShowed","on","handleBrightnessChange","brightness","handleSaturationChange","saturation","handleContrastChange","contrast","downloading","$event","drawerVisible","name","removeColor","dialogVisible","handleInputChange","importPalette","exportPalette","handleDialogClosed","colorName","trim","colorValue","slot","confirmNewColor","hover","showAction","props","default","required","methods","isColor","str","test","components","PaletteColor","visible","shadowColorValue","computed","get","set","watch","immediate","handler","setLocalPalette","title","addColor","message","reader","aTag","URL","Palette","previewHtml","croppedInfo","showPreviewAction","staticStyle","url","onCroppedImageLoaded","originUrl","removeCurrentImage","domProps","dragover","handleClick","preventDefault","handleDrop","apply","arguments","handleDragOver","_m","accept","handleChange","cropperDialogVisible","file","handleRealTimeChange","close","submit","image","cropperSize","realTime","SIZE","cropperType","originWidth","originHeight","crop","resolve","Cropper","disabled","then","info","adjustCroppedInfoUrl","el","originEl","scaleWidth","scaleHeight","handleFileChange","some","acceptedType","adjust","options","Promise","canvasOrigin","contextOrigin","canvas","context","sum","hsl","newRGB","toBlob","blob","contextCopy","ratio","padding","rectW","rectH","rectM","maxCols","cols","rows","ceil","fillRect","fillRoundRect","cxt","radius","fillColor","save","translate","drawRoundRectPath","fill","restore","strokeRoundRect","strokeColor","r0","r3","arc","closePath","canvasTmp","contextTmp","row","col","colorInfo","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","Uploader","Setting","pixelit","croppedImageInfo","deep","Sidebar","Vue","use","VueRouter","routes","path","Home","router","Vuex","modulesFiles","require","modules","reduce","modulePath","moduleName","store","Store","productionTip","ElementUI","size","VueCropper","App","$mount","DEFAULT_COLORS","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","module","exports","state","localStorage","getItem","JSON","parse","mutations","SET_CROPPED_IMAGE_INFO","SET_CONFIG","SET_COLORS","actions","setCroppedImageInfo","commit","setConfig","setColors","setItem","stringify","namespaced"],"mappings":"uKAAA,W,6DCAA,W,2DCAA,W,2DCAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,gBAAgB,IAEjHG,EAAkB,G,wBCDlBC,EAAS,GAMTC,EAAY,eACdD,EACAP,EACAM,GACA,EACA,KACA,KACA,MAIa,EAAAE,E,oBClBXR,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACN,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,UAAU,CAACE,MAAM,CAAC,QAAUJ,EAAIS,OAAO,GAAGP,EAAG,MAAM,CAACM,YAAY,aAAa,CAAER,EAAIU,WAAY,CAACR,EAAG,SAAS,CAACS,IAAI,SAASH,YAAY,SAASI,MAAM,CAACC,QAAQb,EAAIc,eAAeZ,EAAG,MAAM,CAACS,IAAI,gBAAgBH,YAAY,SAASJ,MAAM,CAAC,GAAK,gBAAgB,IAAM,MAAOJ,EAAIe,WAAYb,EAAG,MAAM,CAACM,YAAY,cAAcR,EAAIgB,GAAIhB,EAAIe,YAAY,SAASE,EAAKC,GAAK,OAAOhB,EAAG,MAAM,CAACiB,IAAID,EAAIV,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,QAAQY,MAAO,CAACC,WAAa,QAAOJ,EAAKK,SAASA,MAAML,EAAKM,aAAe,OAAS,SAAW,CAACvB,EAAIwB,GAAG,IAAIxB,EAAIyB,GAAGR,EAAKS,IAAI,OAAOxB,EAAG,MAAM,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAGxB,EAAIyB,GAAGR,EAAKU,eAAc,GAAG3B,EAAI4B,MAAM5B,EAAI4B,MAAM,MAExxBvB,EAAkB,G,UCCtB,MAAMwB,EAAM,EACNC,EAAM,EACNC,EAAM,EACNC,EAAW,WACXC,EAAWC,GAAQA,GAAOC,KAAKC,GAAK,KACpCC,EAAWC,GAAS,IAAMH,KAAKC,GAAME,EACrCC,EAAcN,EAAQ,KACtBO,EAAcP,EAAQ,KACtBQ,EAAK,KACLC,EAAK,KASJ,SAASnB,EAAcoB,EAAGC,EAAGC,GAClC,MAAO,KAAQF,EAAI,KAAQC,EAAI,KAAQC,EAAI,MAWtC,SAASC,EAASC,EAAGC,EAAGC,GAC7B,IAAIC,EAAS,IACb,MAAMC,EAAM,CAACJ,EAAGC,EAAGC,GAEnB,IAAK,IAAIG,EAAI,EAAGA,EAAID,EAAIE,OAAQD,IAAK,CACnC,IAAIE,EAAMC,OAAOJ,EAAIC,IAAII,SAAS,IAClCF,EAAqB,IAAfA,EAAID,OAAe,IAAMC,EAAMA,EACrCJ,GAAUI,EAEZ,OAAOJ,EASF,SAASO,EAASH,GAIvB,GAFAA,EAAMA,EAAII,cAES,IAAfJ,EAAID,OAAc,CACpB,IAAIM,EAAW,IACf,IAAK,IAAIP,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1BO,GAAYL,EAAIM,MAAMR,EAAGA,EAAI,GAAGS,OAAOP,EAAIM,MAAMR,EAAGA,EAAI,IAE1DE,EAAMK,EAGR,MAAMrC,EAAQ,GACd,IAAK,IAAI8B,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1B9B,EAAMwC,KAAKC,SAAS,KAAOT,EAAIM,MAAMR,EAAGA,EAAI,KAE9C,OAAO9B,EAWF,SAAS0C,EAASjB,EAAGC,EAAGC,GAC7B,MAAMgB,EAASC,GAAMA,EAAI,OAAU/B,KAAKgC,KAAKD,EAAI,MAAS,MAAO,KAAOA,EAAI,MACtEE,EAAKH,EAAMlB,EAAI,KACfsB,EAAKJ,EAAMjB,EAAI,KACfsB,EAAKL,EAAMhB,EAAI,KACrB,MAAO,CAEC,MAALmB,EAAmB,MAALC,EAAmB,MAALC,EAEvB,MAALF,EAAmB,MAALC,EAAmB,MAALC,EAEvB,MAALF,EAAmB,MAALC,EAAmB,MAALC,GAY1B,SAASC,EAASC,EAAGC,EAAGC,GAC7B,MAAMC,EAAc,EAAI,EAClBC,EAAc,EAAI,GAClBC,EAAe,EAAI,EAAK1C,KAAKgC,IAAI,GAAK,IAAK,GAC3CW,EAAc3C,KAAKgC,IAAI,EAAI,GAAI,GAC/BY,EAAK,QACLC,EAAK,EACLC,EAAK,SACLC,EAAMC,GACNA,EAAIL,EACC3C,KAAKgC,IAAIgB,EAAGR,GAEZE,EAAcM,EAAIP,EAGvBQ,EAAKF,EAAGV,EAAIO,GACZM,EAAKH,EAAGT,EAAIO,GACZM,EAAKJ,EAAGR,EAAIO,GAClB,MAAO,CAEL9C,KAAKoD,IAAI,IAAMF,EAAK,GAAI,GAEvB,KAAOD,EAAKC,GAEZ,KAAOA,EAAKC,IAYV,SAASE,EAASzC,EAAGC,EAAGC,GAC7B,OAAOsB,KAAWP,EAAQjB,EAAGC,EAAGC,IAW3B,SAASwC,EAAUC,EAAGC,EAAG9C,GAC9B,MAAM+C,EAAIzD,KAAK0D,KAAKF,EAAIA,EAAI9C,EAAIA,GAChC,IAAIiD,EAAIF,GAAK,EAAI,EAAIvD,EAAQF,KAAK4D,MAAMlD,EAAG8C,IAE3C,MAAOG,GAAK,IAAKA,GAAK,IACtB,MAAOA,EAAI,EAAGA,GAAK,IACnB,MAAO,CAACJ,EAAGE,EAAGE,GAWT,SAASE,EAASjD,EAAGC,EAAGC,GAC7B,MAAMgD,EAAM9D,KAAK8D,IAAIlD,EAAGC,EAAGC,GACrBsC,EAAMpD,KAAKoD,IAAIxC,EAAGC,EAAGC,GAC3B,IAAI6C,EAAGI,EACP,MAAMC,EAAIZ,EACJa,EAAQb,EAAMU,EAcpB,OAbc,IAAVG,EACFN,EAAII,EAAI,GAERA,EAAIE,EAAQD,EAEVL,EADE/C,IAAMwC,GACHvC,EAAIC,GAAKmD,EACLpD,IAAMuC,EACX,GAAKtC,EAAIF,GAAKqD,EAEd,GAAKrD,EAAIC,GAAKoD,EAEpBN,GAAU,GAAJA,EAAU,KAAO,KAElB,CAACA,EAAGI,EAAGC,EAAI,KAWb,SAASE,EAASP,EAAGI,EAAGC,GAK7B,IAAIpD,EAAGC,EAAGC,EAEV,GANA6C,GAAK,IACLI,EAAI/D,KAAK8D,IAAI9D,KAAKoD,IAAI,EAAGW,GAAI,GAC7BC,EAAIhE,KAAKmE,MAAiC,IAA3BnE,KAAK8D,IAAI9D,KAAKoD,IAAI,EAAGY,KAI1B,IAAND,EAKF,OAHAnD,EAAIoD,EACJnD,EAAImD,EACJlD,EAAIkD,EACG,CAACpD,EAAGC,EAAGC,GAEhB,MAAMsD,EAAIT,EAAI,GACR1C,EAAIjB,KAAKqE,MAAMD,GACfE,EAAIF,EAAInD,EACRsD,EAAIP,GAAK,EAAID,GACbS,EAAIR,GAAK,EAAID,EAAIO,GACjBtB,EAAIgB,GAAK,EAAID,GAAK,EAAIO,IAE5B,OAAQrD,GACN,KAAK,EACHL,EAAIoD,EACJnD,EAAImC,EACJlC,EAAIyD,EACJ,MACF,KAAK,EACH3D,EAAI4D,EACJ3D,EAAImD,EACJlD,EAAIyD,EACJ,MACF,KAAK,EACH3D,EAAI2D,EACJ1D,EAAImD,EACJlD,EAAIkC,EACJ,MACF,KAAK,EACHpC,EAAI2D,EACJ1D,EAAI2D,EACJ1D,EAAIkD,EACJ,MACF,KAAK,EACHpD,EAAIoC,EACJnC,EAAI0D,EACJzD,EAAIkD,EACJ,MACF,QACEpD,EAAIoD,EACJnD,EAAI0D,EACJzD,EAAI0D,EACJ,MAEJ,MAAO,CAACxE,KAAKmE,MAAMvD,GAAIZ,KAAKmE,MAAMtD,GAAIb,KAAKmE,MAAMrD,IAW5C,SAAS2D,EAASd,EAAGI,EAAGC,GAC7BL,GAAK,IACLI,EAAI/D,KAAK8D,IAAI9D,KAAKoD,IAAI,EAAGW,GAAI,GAC7BC,EAAIhE,KAAK8D,IAAI9D,KAAKoD,IAAI,EAAGY,IACzB,IAAIT,GAAK,EAAIQ,GAAKC,EAMlB,OALAD,GAAQC,EACJT,GAAK,EAAIA,IACXQ,GAAMR,GAAK,EAAKA,EAAI,EAAIA,GAE1BA,GAAK,EACE,CAACI,EAAGI,EAAGR,GAWT,SAASmB,EAASf,EAAGI,EAAGR,GAC7BI,GAAK,IACLI,EAAI/D,KAAK8D,IAAI9D,KAAKoD,IAAI,EAAGW,GAAI,GAC7BR,EAAIvD,KAAK8D,IAAI9D,KAAKoD,IAAI,EAAGG,IACzB,MAAMoB,EAAI,EAAIpB,EACRqB,EAAIb,GAAMY,GAAK,EAAKA,EAAI,EAAIA,GAC5BX,GAAKW,EAAIC,GAAK,EAEpB,OADAb,EAAM,EAAIa,GAAMD,EAAIC,IAAO,EACpB,CAACjB,EAAGI,EAAGC,GAWT,SAASa,EAASjE,EAAGC,EAAGC,GAC7B,OAAO2D,KAAWZ,EAAQjD,EAAGC,EAAGC,IAW3B,SAASgE,EAASnB,EAAGI,EAAGR,GAC7B,OAAOW,KAAWQ,EAAQf,EAAGI,EAAGR,IAQ3B,SAASwB,EAAYC,EAAWC,GACrC,MAAOC,EAAIC,EAAIC,GAAMJ,GACdK,EAAIC,EAAIC,GAAMN,EACfO,EAASN,EAAKG,EACdI,EAASN,EAAKG,EACdI,EAASN,EAAKG,EACpB,OAAOvF,KAAK0D,KACV8B,EAASA,EACTC,EAASA,EACTC,EAASA,GASN,SAASC,EAAYX,EAAWC,GACrC,MAAOC,EAAIC,EAAIC,GAAMJ,GACdK,EAAIC,EAAIC,GAAMN,EACfO,EAASN,EAAKG,EACdI,EAASN,EAAKG,EACdI,EAASN,EAAKG,EACpB,OAAOvF,KAAK0D,KACV,EAAI8B,EAASA,EACb,EAAIC,EAASA,EACb,EAAIC,EAASA,GAUV,SAASE,EAAYZ,EAAWC,GACrC,MAAOC,EAAIC,EAAIC,GAAMJ,GACdK,EAAIC,EAAIC,GAAMN,EACfY,GAAQX,EAAKG,GAAM,EACnBG,EAASN,EAAKG,EACdI,EAASN,EAAKG,EACdI,EAASN,EAAKG,EACpB,OAAOvF,KAAK0D,MACT,EAAImC,EAAO,KAAOL,EAASA,EAC5B,EAAIC,EAASA,GACZ,GAAK,IAAMI,GAAQ,KAAOH,EAASA,GAUjC,SAASI,EAASC,EAAWC,GAClC,IAAIC,EAAI,EACR,IAAK,IAAIhF,EAAI,EAAGA,EAAI,EAAGA,IACrBgF,GAAKjG,KAAKgC,IAAI+D,EAAU9E,GAAK+E,EAAU/E,GAAI,GAE7C,OAAOjB,KAAK0D,KAAKuC,GAUZ,SAASC,EAASH,EAAWC,GAClC,MAAOG,EAAIC,EAAIhB,GAAMW,GACdM,EAAIC,EAAIf,GAAMS,EACfO,EAAKvG,KAAK0D,KAAK0C,EAAKA,EAAKhB,EAAKA,GAC9BoB,EAAKxG,KAAK0D,KAAK4C,EAAKA,EAAKf,EAAKA,GAC9BkB,EAASN,EAAKE,EACdK,EAASN,EAAKE,EACdK,EAASvB,EAAKG,EACdqB,EAASL,EAAKC,EACdK,EAAS7G,KAAK0D,KAAK1D,KAAKgC,IAAI0E,EAAQ,GAAK1G,KAAKgC,IAAI2E,EAAQ,GAAK3G,KAAKgC,IAAI4E,EAAQ,IAChFE,EAAM,EACNC,EAAM,EAAIzG,EAAKiG,EACfS,EAAM,EAAIzG,EAAKgG,EACrB,OAAOvG,KAAK0D,KACV1D,KAAKgC,IAAIyE,GAAU/G,EAAMoH,GAAM,GAC/B9G,KAAKgC,IAAI4E,GAAUjH,EAAMoH,GAAM,GAC/B/G,KAAKgC,IAAI6E,GAAUjH,EAAMoH,GAAM,IAW5B,SAASC,EAAWlB,EAAWC,GACpC,MAAOG,EAAIC,EAAIhB,GAAMW,GACdM,EAAIC,EAAIf,GAAMS,EACfkB,EAAKlH,KAAK0D,KAAK0C,EAAKA,EAAKhB,EAAKA,GAC9B+B,EAAKnH,KAAK0D,KAAK4C,EAAKA,EAAKf,EAAKA,GAC9B6B,GAAQF,EAAKC,GAAM,EACnBtG,EAAI,IAAO,EAAIb,KAAK0D,KAAK1D,KAAKgC,IAAIoF,EAAM,IAAMpH,KAAKgC,IAAIoF,EAAM,GAAKvH,KAClEwH,GAAW,EAAIxG,GAAKuF,EACpBkB,GAAW,EAAIzG,GAAKyF,EACpBiB,EAAUvH,KAAK0D,KAAK2D,EAAUA,EAAUjC,EAAKA,GAC7CoC,EAAUxH,KAAK0D,KAAK4D,EAAUA,EAAU/B,EAAKA,GACnD,IAAIkC,EASAC,EARO,IAAPtC,GAAwB,IAAZiC,EACdI,EAAU,GAEVA,EAAUzH,KAAK4D,MAAMwB,EAAIiC,GACrBI,EAAU,IACZA,GAAWrH,IAIJ,IAAPmF,GAAwB,IAAZ+B,EACdI,EAAU,GAEVA,EAAU1H,KAAK4D,MAAM2B,EAAI+B,GACrBI,EAAU,IACZA,GAAWtH,IAGf,MAAMuH,EAActB,EAAKF,EACnByB,EAAcJ,EAAUD,EACxBM,EAAgBN,EAAUC,EAChC,IAAIM,EACkB,IAAlBD,EACFC,EAAc,GAEdA,EAAcJ,EAAUD,EACpBK,GAAezH,EACjByH,GAAe1H,EACN0H,EAAczH,IACvByH,GAAe1H,IAGnB,MAAM2H,EAAc,EAAI/H,KAAK0D,KAAKmE,GAAiB7H,KAAKgI,IAAIF,EAAc,GACpEG,GAAQ9B,EAAKE,GAAM,EACnB6B,GAAaX,EAAUC,GAAW,EACxC,IAAIW,EACJ,MAAMC,EAAYX,EAAUC,EAE1BS,EADoB,IAAlBN,EACUO,EAERpI,KAAKqI,IAAIZ,EAAUC,IAAYrH,EACrB+H,EAAY,EAEpBA,EAAYhI,GACDgI,EAAYhI,GAAe,GAE3BgI,EAAYhI,GAAe,EAI9C,MAAMkI,EAAI,EAAK,IAAOtI,KAAKuI,IAAIJ,EAAYrI,EAAQ,KAChD,IAAOE,KAAKuI,IAAI,EAAIJ,GACpB,IAAOnI,KAAKuI,IAAK,EAAIJ,EAAarI,EAAQ,IAC1C,GAAOE,KAAKuI,IAAK,EAAIJ,EAAarI,EAAQ,KACvCgH,EAAM,EAAM,KAAQ9G,KAAKgC,IAAIiG,EAAO,GAAI,GAAMjI,KAAK0D,KAAK,GAAK1D,KAAKgC,IAAIiG,EAAO,GAAI,IACjFlB,EAAM,EAAK,KAAQmB,EACnBlB,EAAM,EAAK,KAAQkB,EAAYI,EAC/BE,EAAQxI,KAAKgC,IAAIkG,EAAW,GAC5BO,GAAO,EAAIzI,KAAK0D,KAAK8E,GAASA,EAAQ3I,IAAaG,KAAKgI,IAAIlI,EAAQ,IAAME,KAAK0I,KAAK1I,KAAKgC,KAAKmG,EAAYrI,EAAQ,MAAQA,EAAQ,IAAK,KAC7I,OAAOE,KAAK0D,KACV1D,KAAKgC,IAAI2F,GAAejI,EAAMoH,GAAM,GACpC9G,KAAKgC,IAAI4F,GAAejI,EAAMoH,GAAM,GACpC/G,KAAKgC,IAAI+F,GAAenI,EAAMoH,GAAM,GACnCyB,GAAOb,GAAejI,EAAMoH,KAASgB,GAAenI,EAAMoH,KAIxD,SAAS2B,EAAK5C,EAAWC,GAC9B,MAAMrB,EAAI,EACJ5C,EAAI,GACHoE,EAAIC,EAAIhB,GAAMW,GACdM,EAAIC,EAAIf,GAAMS,GAEd4C,EAAGrC,EAAIsC,GAAMvF,EAAS6C,EAAIC,EAAIhB,IAE9B0D,EAAItC,EAAIuC,GAAOzF,EAAS+C,EAAIC,EAAIf,GACjCyD,EAASzC,EAAKA,EAAKA,EAAKA,EACxB0C,EAAIjJ,KAAK0D,KAAKsF,GAAUA,EAAS,OACvC,IAAIV,EAEFA,EADEO,GAAM,KAAOA,GAAM,IACjB,IAAO7I,KAAKqI,IAAI,GAAMrI,KAAKuI,IAAIzI,EAAQ+I,EAAK,OAE5C,IAAO7I,KAAKqI,IAAI,GAAMrI,KAAKuI,IAAIzI,EAAS+I,EAAK,MAEnD,MAAMK,EAAK/C,EAAK,GAAK,KAAS,QAAWA,GAAO,EAAI,OAAUA,GACxDgD,EAAO,MAAS5C,GAAO,EAAI,MAASA,GAAO,KAC3C6C,EAAKD,GAAMF,EAAIX,EAAI,EAAIW,GACvBI,EAASjD,EAAKE,EACdZ,EAASN,EAAKG,EACdqB,EAASL,EAAKC,EACdK,EAAS7G,KAAK0D,KAAK2F,EAASA,EAAS3D,EAASA,EAASkB,EAASA,GACtE,OAAO5G,KAAK0D,KACV1D,KAAKgC,KAAKmE,EAAKE,IAAO1B,EAAIuE,GAAK,GAC/BlJ,KAAKgC,KAAKuE,EAAKC,IAAOzE,EAAIoH,GAAK,GAC/BnJ,KAAKgC,IAAI6E,EAASuC,EAAI,ICtgBnB,MAAME,EAAa,CACxBC,MAAO,QACPC,MAAO,QACPC,QAAS,UACTC,YAAa,cACbC,YAAa,cACbC,YAAa,cACbC,IAAK,OAIDC,EAAiB,CAACR,EAAWC,MAAOD,EAAWE,MAAOF,EAAWG,QAASH,EAAWO,KAEpF,MAAME,EACXC,YAAaC,EAAS,IAEpBnM,KAAKoM,OAASD,EAAOE,IAAMC,SAASC,eAAe,iBAEnDvM,KAAKwM,SAAWL,EAAOM,MAAQH,SAASC,eAAe,cAEvDvM,KAAK0M,sBAAwBP,EAAOO,uBAAyBlB,EAAWC,MACxEzL,KAAK2M,OAASR,EAAOQ,QAAU,GAC/B3M,KAAK4M,OAAST,EAAOS,QAAU,GAC/B5M,KAAK6M,QAAUV,EAAOU,SAAW,CAC/B,CAAC,IAAK,IAAK,KACX,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,IAAK,GAAI,IACV,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,GAAI,IACV,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,GAAI,KACV,CAAC,IAAK,IAAK,KACX,CAAC,GAAI,IAAK,KACV,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,KAEX7M,KAAK8M,OAASX,EAAOW,OACrB9M,KAAK+M,MAAQZ,EAAOY,MACpB/M,KAAKgN,IAAMhN,KAAKoM,OAAOa,WAAW,MAClCjN,KAAKkN,WAAa,GAClBlN,KAAKmN,WAAa,GACdnB,EAAeoB,SAASpN,KAAK0M,wBAC/B1M,KAAK6M,QAAQQ,IAAIhM,GAASkE,KAAWlE,IAAQiM,QAAQ,CAACjM,EAAOJ,KAC3DjB,KAAKmN,WAAWnN,KAAK6M,QAAQ5L,GAAKsM,KAAK,MAAQlM,IAMrDmM,cAKE,OAJAxN,KAAKwM,SAASrL,MAAMsM,WAAa,SACjCzN,KAAKwM,SAASrL,MAAMuM,SAAW,QAC/B1N,KAAKwM,SAASrL,MAAMwM,IAAM,EAC1B3N,KAAKwM,SAASrL,MAAMyM,KAAO,EACpB5N,KAMT6N,iBAAkBC,GAEhB,OADA9N,KAAKwM,SAASsB,IAAMA,EACb9N,KAOT+N,YAAaC,GAEX,OADAhO,KAAKwM,SAAWwB,EACThO,KAOTiO,UAAWD,GAET,OADAhO,KAAKoM,OAAS4B,EACPhO,KAOTkO,WAAYC,GAEV,OADAnO,KAAK6M,QAAUsB,EACRnO,KAOToO,yBAA0B1B,GACxB1M,KAAK0M,sBAAwBA,EACzBV,EAAeoB,SAASpN,KAAK0M,yBAC/B1M,KAAKmN,WAAa,GAClBnN,KAAK6M,QAAQQ,IAAIhM,GAASkE,KAAWlE,IAAQiM,QAAQ,CAACjM,EAAOJ,KAC3DjB,KAAKmN,WAAWnN,KAAK6M,QAAQ5L,GAAKsM,KAAK,MAAQlM,KASrDgN,SAAUtB,GAER,OADA/M,KAAK+M,MAAQA,EACN/M,KAOTsO,UAAWxB,GAET,OADA9M,KAAK8M,OAASA,EACP9M,KAOTuO,UAAW5B,GAET,OADA3M,KAAK2M,OAASA,EACP3M,KAOTwO,UAAW5B,GAET,OADA5M,KAAK4M,OAASA,EACP5M,KAOTyO,aACE,OAAOzO,KAAK6M,QAGd6B,gBACE,OAAO1O,KAAKkN,WAWdyB,SAAUtN,EAAOuN,EAAcC,EAAO,OACpC,OAAI7O,KAAK0M,wBAA0BlB,EAAWI,YACrC3E,EAAW5F,EAAOuN,GAEvB5O,KAAK0M,wBAA0BlB,EAAWK,YACrChE,EAAWxG,EAAOuN,GAEvB5O,KAAK0M,wBAA0BlB,EAAWM,YACrChE,EAAWzG,EAAOuN,GAEvB5O,KAAK0M,wBAA0BlB,EAAWC,MACrCzD,EAAQ3G,EAAOuN,GAEpB5O,KAAK0M,wBAA0BlB,EAAWE,MACrCtD,EAAQ/G,EAAOuN,GAEpB5O,KAAK0M,wBAA0BlB,EAAWG,QACrCxC,EAAU9H,EAAOuN,GAEtB5O,KAAK0M,wBAA0BlB,EAAWO,IACrClB,EAAIxJ,EAAOuN,QADpB,EAWFE,aAAcC,GACZ,IAAIC,EAAgB,GAChBC,EAASC,IACTL,EAAO,MAgBX,MAfI,CAACrD,EAAWC,MAAOD,EAAWE,MAAOF,EAAWG,SAASyB,SAASpN,KAAK0M,yBACzEqC,EAAcxJ,KAAWwJ,GACzBF,EAAO,OAET7O,KAAK6M,QAAQS,QAASjM,IACpB,IAAI8N,EAAS9N,EACT,CAACmK,EAAWC,MAAOD,EAAWE,MAAOF,EAAWG,SAASyB,SAASpN,KAAK0M,yBACzEyC,EAASnP,KAAKmN,WAAW9L,EAAMkM,KAAK,OAEtC,MAAM6B,EAAUpP,KAAK2O,SAASI,EAAaI,EAAQN,GAC/CO,GAAWH,IACbD,EAAgB3N,EAChB4N,EAASG,KAGNJ,EAOTK,WACErP,KAAKoM,OAAOW,MAAQ/M,KAAKwM,SAAS8C,aAClCtP,KAAKoM,OAAOU,OAAS9M,KAAKwM,SAAS+C,cAEnC,MAAM5C,EAAS3M,KAAK2M,OACdC,EAAS5M,KAAK4M,OAGd4C,EAAalD,SAASmD,cAAc,UAGpCC,EAAcF,EAAWvC,WAAW,MAyB1C,OAvBAyC,EAAYC,UAAU3P,KAAKwM,SAAU,EAAG,EAAGG,EAAQC,GACnDN,SAASsD,KAAKC,YAAYL,GAG1BxP,KAAKgN,IAAI8C,0BAA2B,EACpC9P,KAAKgN,IAAI+C,6BAA8B,EACvC/P,KAAKgN,IAAIgD,uBAAwB,EAGjChQ,KAAKgN,IAAI2C,UACPH,EACA,EACA,EACA7C,EACAC,EACA,EACA,EACA5M,KAAKwM,SAAS8C,aACdtP,KAAKwM,SAAS+C,eAGhBC,EAAWS,SAEJjQ,KAMTkQ,mBACE,MAAMC,EAAInQ,KAAKoM,OAAOW,MAChBzG,EAAItG,KAAKoM,OAAOU,OAEtB,IADA,IAAIsD,EAAYpQ,KAAKgN,IAAIqD,aAAa,EAAG,EAAGF,EAAG7J,GACtCgK,EAAI,EAAGA,EAAIF,EAAUtD,OAAQwD,IACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAUrD,MAAOwD,IAAK,CACxC,IAAIpN,EAAQ,EAAJmN,EAAQF,EAAUrD,MAAY,EAAJwD,EAC9BC,GAAOJ,EAAUK,KAAKtN,GAAKiN,EAAUK,KAAKtN,EAAI,GAAKiN,EAAUK,KAAKtN,EAAI,IAAM,EAChFiN,EAAUK,KAAKtN,GAAKqN,EACpBJ,EAAUK,KAAKtN,EAAI,GAAKqN,EACxBJ,EAAUK,KAAKtN,EAAI,GAAKqN,EAI5B,OADAxQ,KAAKgN,IAAI0D,aAAaN,EAAW,EAAG,EAAG,EAAG,EAAGA,EAAUrD,MAAOqD,EAAUtD,QACjE9M,KAMT2Q,iBACE,MAAMR,EAAInQ,KAAKoM,OAAOW,MAChBzG,EAAItG,KAAKoM,OAAOU,OACtB,IAAIsD,EAAYpQ,KAAKgN,IAAIqD,aAAa,EAAG,EAAGF,EAAG7J,GAC/C,IAAIsK,EAAQ,EACZ,IAAK,IAAIN,EAAI,EAAGA,EAAIF,EAAUtD,OAAQwD,IACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAUrD,MAAOwD,IAAK,CACxC,IAAIpN,EAAQ,EAAJmN,EAAQF,EAAUrD,MAAY,EAAJwD,EAClC,MAAMM,EAAa7Q,KAAK8O,aAAa,CACnCsB,EAAUK,KAAKtN,GACfiN,EAAUK,KAAKtN,EAAI,GACnBiN,EAAUK,KAAKtN,EAAI,KAErBiN,EAAUK,KAAKtN,GAAK0N,EAAW,GAC/BT,EAAUK,KAAKtN,EAAI,GAAK0N,EAAW,GACnCT,EAAUK,KAAKtN,EAAI,GAAK0N,EAAW,GACnC,MAAMC,EAAK,GAAED,EAAW,MAAMA,EAAW,MAAMA,EAAW,KACtD7Q,KAAKkN,WAAW4D,GAClB9Q,KAAKkN,WAAW4D,GAAGjN,KAAK+M,KAExB5Q,KAAKkN,WAAW4D,GAAK,CAACF,KAK5B,OADA5Q,KAAKgN,IAAI0D,aAAaN,EAAW,EAAG,EAAG,EAAG,EAAGA,EAAUrD,MAAOqD,EAAUtD,QACjE9M,KAOT+Q,cAEE,MAAMC,EAAa1E,SAASmD,cAAc,UACpCwB,EAAcD,EAAW/D,WAAW,MAG1C,OAAKjN,KAAK+M,OAAU/M,KAAK8M,QAIzBkE,EAAWjE,MAAQ/M,KAAKoM,OAAOW,MAC/BiE,EAAWlE,OAAS9M,KAAKoM,OAAOU,OAChCmE,EAAYtB,UAAU3P,KAAKoM,OAAQ,EAAG,GAEtCpM,KAAKoM,OAAOW,MAAQ/M,KAAK+M,MACzB/M,KAAKoM,OAAOU,OAAS9M,KAAK8M,OAC1B9M,KAAKgN,IAAI8C,0BAA2B,EACpC9P,KAAKgN,IAAI+C,6BAA8B,EACvC/P,KAAKgN,IAAIgD,uBAAwB,EACjChQ,KAAKgN,IAAI2C,UACPqB,EACA,EACA,EACAA,EAAWjE,MACXiE,EAAWlE,OACX,EACA,EACA9M,KAAKoM,OAAOW,MACZ/M,KAAKoM,OAAOU,QAGP9M,MAxBE,EA+BXkR,OAQE,OANAlR,KAAKoM,OAAOW,MAAQ/M,KAAKwM,SAASO,MAClC/M,KAAKoM,OAAOU,OAAS9M,KAAKwM,SAASM,OAEnC9M,KAAKgN,IAAI2C,UAAU3P,KAAKwM,SAAU,EAAG,GAErCxM,KAAK+Q,cACE/Q,KAOTmR,WACE,MAAMhB,EAAInQ,KAAKoM,OAAOW,MAChBzG,EAAItG,KAAKoM,OAAOU,OAChBsE,EAAOpR,KAAKoM,OAAOW,MAAQ/M,KAAK2M,OACtC,IAAIyD,EAAYpQ,KAAKgN,IAAIqD,aAAa,EAAG,EAAGF,EAAG7J,GAC/CtG,KAAKgN,IAAIqE,YAAc,QACvBrR,KAAKgN,IAAIsE,UAAY,EACrB,IAAK,IAAIhB,EAAIc,EAAMd,EAAIF,EAAUtD,OAAQwD,GAAKc,EAC5CpR,KAAKgN,IAAIuE,YACTvR,KAAKgN,IAAIwE,OAAO,EAAGlB,GACnBtQ,KAAKgN,IAAIyE,OAAOtB,EAAGG,GACnBtQ,KAAKgN,IAAI0E,SAEX,IAAK,IAAInB,EAAIa,EAAMb,EAAIH,EAAUrD,MAAOwD,GAAKa,EAC3CpR,KAAKgN,IAAIuE,YACTvR,KAAKgN,IAAIwE,OAAOjB,EAAG,GACnBvQ,KAAKgN,IAAIyE,OAAOlB,EAAGjK,GACnBtG,KAAKgN,IAAI0E,SAEX,OAAO1R,KAOT2R,cACE,MAAMC,EAAmBC,OAAOC,KAAK9R,KAAKkN,YAC1C,GAAI0E,EAAiBxO,OAAS,EAAG,CAC/B,MAAM2O,EAAS/R,KAAK6M,QAAQmF,OAAO/N,GAAK2N,EAAiBxE,SAASnJ,EAAEsJ,KAAK,OACnE6D,EAAOpR,KAAKoM,OAAOW,MAAQ/M,KAAK2M,OACtC3M,KAAKgN,IAAIiF,KAAU/P,KAAKqE,MAAa,GAAP6K,GAAb,gBACjBpR,KAAKgN,IAAIkF,aAAe,SACxBlS,KAAKgN,IAAImF,UAAY,SACrB,MAAMC,EAAS,EACf,IAAK,IAAIjP,EAAI,EAAGA,EAAI4O,EAAO3O,OAAQD,IAAK,CACtC,MAAMc,EAAI8N,EAAO5O,GACX2N,EAAI7M,EAAEsJ,KAAK,KACjBvN,KAAKgN,IAAIqF,UAAY/Q,EAAa2C,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAM,OAAS,OAC/D,IAAK,IAAIqO,EAAI,EAAGA,EAAItS,KAAKkN,WAAW4D,GAAG1N,OAAQkP,IAAK,CAClD,MAAM/B,EAAIvQ,KAAKkN,WAAW4D,GAAGwB,GAAKtS,KAAK2M,OACjC2D,EAAIpO,KAAKqE,MAAMvG,KAAKkN,WAAW4D,GAAGwB,GAAKtS,KAAK2M,QAClD3M,KAAKgN,IAAIuF,SAAU,IAAEpP,EAAI,GAAKoN,EAAIa,EAAOA,EAAO,EAAGd,EAAIc,EAAOA,EAAO,EAAIgB,EAAQhB,KAIvF,OAAOpR,KAMTc,aACE,MAAM8Q,EAAmBC,OAAOC,KAAK9R,KAAKkN,YACpC6E,EAAS/R,KAAK6M,QAAQmF,OAAO/N,GAAK2N,EAAiBxE,SAASnJ,EAAEsJ,KAAK,OACzE,OAAOwE,EAAO1E,IAAI,CAACpJ,EAAG2M,KACpB,MAAME,EAAI7M,EAAEsJ,KAAK,KACjB,MAAO,CACL9L,GAAImP,EAAQ,EACZvP,MAAOyP,EACPpP,MAAO1B,KAAKkN,WAAW4D,GAAG1N,OAC1B9B,aAAcA,KAAgB2C,MAQpCuO,YACE,MAAMC,EAAOnG,SAASmD,cAAc,KACpCgD,EAAKC,SAAW,YAChBD,EAAKE,KAAO3S,KAAKoM,OACdwG,UAAU,aACVC,QAAQ,YAAa,sBACxBvG,SAASwG,cAAc,QAAQjD,YAAY4C,GAC3CA,EAAKM,QACLzG,SAASwG,cAAc,QAAQE,YAAYP,ICtc/C,IAAI3S,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,YAAY,GAAGA,EAAG,KAAK,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAG,eAAetB,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAACM,YAAY,UAAU,CAACN,EAAG,WAAW,CAACS,IAAI,WAAWP,MAAM,CAAC,OAAS,2BAA2B,MAAM,GAAGF,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAG,YAAYtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,YAAY,CAACM,YAAY,UAAUJ,MAAM,CAAC,YAAc,OAAO8S,MAAM,CAACC,MAAOnT,EAAIoM,OAAOgH,UAAWC,SAAS,SAAUC,GAAMtT,EAAIuT,KAAKvT,EAAIoM,OAAQ,YAAakH,IAAME,WAAW,qBAAqBxT,EAAIgB,GAAIhB,EAAIyL,YAAY,SAASxK,GAAM,OAAOf,EAAG,YAAY,CAACiB,IAAIF,EAAKE,IAAIf,MAAM,CAAC,MAAQa,EAAKkS,MAAM,MAAQlS,EAAKE,UAAS,IAAI,IAAI,GAAGjB,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAG,UAAUtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,cAAc,CAACgT,MAAM,CAACC,MAAOnT,EAAIoM,OAAOgF,SAAUiC,SAAS,SAAUC,GAAMtT,EAAIuT,KAAKvT,EAAIoM,OAAQ,WAAYkH,IAAME,WAAW,oBAAoB,CAACxT,EAAIwB,GAAG,UAAUtB,EAAG,cAAc,CAACE,MAAM,CAAC,UAAYJ,EAAIyT,aAAaP,MAAM,CAACC,MAAOnT,EAAIoM,OAAOU,QAASuG,SAAS,SAAUC,GAAMtT,EAAIuT,KAAKvT,EAAIoM,OAAQ,UAAWkH,IAAME,WAAW,mBAAmB,CAACxT,EAAIwB,GAAG,SAAStB,EAAG,cAAc,CAACE,MAAM,CAAC,UAAYJ,EAAIyT,cAAgBzT,EAAIoM,OAAOU,SAASoG,MAAM,CAACC,MAAOnT,EAAIoM,OAAOsH,SAAUL,SAAS,SAAUC,GAAMtT,EAAIuT,KAAKvT,EAAIoM,OAAQ,WAAYkH,IAAME,WAAW,oBAAoB,CAACxT,EAAIwB,GAAG,UAAUtB,EAAG,cAAc,CAACE,MAAM,CAAC,UAAYJ,EAAIyT,cAAgBzT,EAAIoM,OAAOU,SAASoG,MAAM,CAACC,MAAOnT,EAAIoM,OAAOrL,WAAYsS,SAAS,SAAUC,GAAMtT,EAAIuT,KAAKvT,EAAIoM,OAAQ,aAAckH,IAAME,WAAW,sBAAsB,CAACxT,EAAIwB,GAAG,SAAS,MAAM,GAAGtB,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAG,UAAUtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,IAAI,IAAM,IAAI,iBAAiBJ,EAAI2T,cAAc,UAAY3T,EAAI4T,cAAcC,GAAG,CAAC,OAAS7T,EAAI8T,wBAAwBZ,MAAM,CAACC,MAAOnT,EAAI+T,WAAYV,SAAS,SAAUC,GAAMtT,EAAI+T,WAAWT,GAAKE,WAAW,iBAAiB,MAAM,GAAGtT,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAG,WAAWtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,IAAI,IAAM,IAAI,iBAAiBJ,EAAI2T,cAAc,UAAY3T,EAAI4T,cAAcC,GAAG,CAAC,OAAS7T,EAAIgU,wBAAwBd,MAAM,CAACC,MAAOnT,EAAIiU,WAAYZ,SAAS,SAAUC,GAAMtT,EAAIiU,WAAWX,GAAKE,WAAW,iBAAiB,MAAM,GAAGtT,EAAG,SAAS,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACF,EAAG,QAAQ,CAACM,YAAY,SAAS,CAACR,EAAIwB,GAAG,WAAWtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,MAAM,CAACM,YAAY,cAAc,CAACN,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,IAAI,IAAM,IAAI,iBAAiBJ,EAAI2T,cAAc,UAAY3T,EAAI4T,cAAcC,GAAG,CAAC,OAAS7T,EAAIkU,sBAAsBhB,MAAM,CAACC,MAAOnT,EAAImU,SAAUd,SAAS,SAAUC,GAAMtT,EAAImU,SAASb,GAAKE,WAAW,eAAe,MAAM,GAAGtT,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,mBAAmB,KAAO,UAAU,UAAYJ,EAAI4T,aAAa,QAAU5T,EAAIoU,aAAaP,GAAG,CAAC,MAAQ7T,EAAI2S,WAAW,CAAC3S,EAAIwB,GAAG,YAAY,IAElzGnB,EAAkB,GCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,MAAM,CAAC,WAAY,GAAOyT,GAAG,CAAC,MAAQ,SAASQ,GAAQrU,EAAIsU,eAAgB,KAAQ,CAACpU,EAAG,IAAI,CAACM,YAAY,oBAAoBN,EAAG,UAAU,CAACE,MAAM,CAAC,QAAUJ,EAAIsU,eAAeT,GAAG,CAAC,iBAAiB,SAASQ,GAAQrU,EAAIsU,cAAcD,OAAY,IAEzUhU,EAAkB,GCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACM,YAAY,iBAAiBJ,MAAM,CAAC,MAAQ,MAAM,QAAUJ,EAAIsU,cAAc,UAAY,MAAM,KAAO,OAAO,kBAAiB,GAAMT,GAAG,CAAC,iBAAiB,SAASQ,GAAQrU,EAAIsU,cAAcD,KAAU,CAACnU,EAAG,MAAM,CAACM,YAAY,qBAAqB,CAACR,EAAIgB,GAAIhB,EAAIgS,QAAQ,SAAS/Q,EAAKC,GAAK,OAAOhB,EAAG,gBAAgB,CAACiB,IAAK,SAAQD,EAAMd,MAAM,CAAC,KAAOa,EAAKsT,KAAK,MAAQtT,EAAKkS,OAAOU,GAAG,CAAC,OAAS7T,EAAIwU,kBAAiBtU,EAAG,YAAY,CAACM,YAAY,UAAUJ,MAAM,CAAC,KAAO,QAAQ,KAAO,gBAAgByT,GAAG,CAAC,MAAQ,SAASQ,GAAQrU,EAAIyU,eAAgB,OAAU,GAAGvU,EAAG,MAAM,CAACM,YAAY,UAAU,CAACN,EAAG,QAAQ,CAACS,IAAI,QAAQH,YAAY,SAASJ,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,OAAS,oBAAoByT,GAAG,CAAC,OAAS7T,EAAI0U,qBAAqBxU,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,mBAAmByT,GAAG,CAAC,MAAQ7T,EAAI2U,gBAAgB,CAAC3U,EAAIwB,GAAG,QAAQtB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,oBAAoByT,GAAG,CAAC,MAAQ7T,EAAI4U,gBAAgB,CAAC5U,EAAIwB,GAAG,SAAS,GAAGtB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,QAAUJ,EAAIyU,cAAc,MAAQ,QAAQ,iBAAiB,GAAG,yBAAwB,EAAM,wBAAuB,GAAOZ,GAAG,CAAC,iBAAiB,SAASQ,GAAQrU,EAAIyU,cAAcJ,GAAQ,OAASrU,EAAI6U,qBAAqB,CAAC3U,EAAG,MAAM,CAACM,YAAY,uBAAuB,CAACN,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACJ,EAAIwB,GAAG,WAAWtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACS,IAAI,YAAYuS,MAAM,CAACC,MAAOnT,EAAI8U,UAAWzB,SAAS,SAAUC,GAAMtT,EAAI8U,UAA0B,kBAARxB,EAAkBA,EAAIyB,OAAQzB,GAAME,WAAW,gBAAgB,IAAI,GAAGtT,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,IAAI,CAACJ,EAAIwB,GAAG,WAAWtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACS,IAAI,aAAaP,MAAM,CAAC,UAAY,GAAG8S,MAAM,CAACC,MAAOnT,EAAIgV,WAAY3B,SAAS,SAAUC,GAAMtT,EAAIgV,WAAW1B,GAAKE,WAAW,eAAe,CAACtT,EAAG,WAAW,CAAC+U,KAAK,WAAW,CAACjV,EAAIwB,GAAG,QAAQ,IAAI,IAAI,IAAI,GAAGtB,EAAG,MAAM,CAACM,YAAY,gBAAgBJ,MAAM,CAAC,KAAO,UAAU6U,KAAK,UAAU,CAAC/U,EAAG,YAAY,CAAC2T,GAAG,CAAC,MAAQ,SAASQ,GAAQrU,EAAIyU,eAAgB,KAAS,CAACzU,EAAIwB,GAAG,SAAStB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWyT,GAAG,CAAC,MAAQ7T,EAAIkV,kBAAkB,CAAClV,EAAIwB,GAAG,UAAU,MAAM,IAE3nEnB,EAAkB,GCFlBN,G,UAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,gBAAgBI,MAAM,CAAEuU,MAAQnV,EAAIoV,YAAavB,GAAG,CAAC,UAAY,SAASQ,GAAQrU,EAAIoV,YAAa,GAAM,SAAW,SAASf,GAAQrU,EAAIoV,YAAa,KAAS,CAAClV,EAAG,MAAM,CAACM,YAAY,QAAQY,MAAO,CAACC,WAAYrB,EAAImT,SAAUjT,EAAG,MAAM,CAACM,YAAY,QAAQ,CAACR,EAAIwB,GAAGxB,EAAIyB,GAAGzB,EAAIuU,SAASrU,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,OAAO,CAACM,YAAY,SAASqT,GAAG,CAAC,MAAQ7T,EAAIwU,cAAc,CAACtU,EAAG,IAAI,CAACM,YAAY,2BAEpeH,EAAkB,GCYP,IACfkU,oBACAc,OACAlC,OACArE,YACAwG,WACAC,aAEAhB,MACAzF,YACAwG,WACAC,cAGA7E,OACA,OACA0E,gBAGAI,SACAhB,cACA,qBACAD,eACApB,sBCrCqW,MCQjW,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCdR,SAASsC,GAASC,GACvB,MAAO,qCAAqCC,KAAKD,GCsDpC,QACfnB,eACAqB,YAAAC,iBACAR,OACAS,SACAhH,aACAwG,aAGA5E,OACA,OACAsB,6CACAsC,iBACAG,iBACAK,aACAiB,sBAGAC,UACAhB,YACAiB,eACA,8BAEAC,gBACA,yCAIAC,OACAL,SACAM,aACAC,WACA,uBAGA/B,iBACA,gCAEA,6BACA,gBAGAkB,SAEAc,mBACA,6DAGA9B,eACA,mDACA,wBAGAK,qBACA,kBACA,oBAGAK,kBACA,sBAQA,8CAQA,kBACA,yBARA,cACApG,aACAyH,uBAEA,gCAZA,cACAzH,aACAyH,uBAEA,+BAgBAC,WACA,qDAQA,cACA1H,aACA2H,qBAEA,IAXA,kBACAlC,oBACApB,4BAEA,wBACA,IAUAuB,qBACA,uBACA,aACA,uBACAgC,aAEA,IACA,oCACA,yBAiBA,wBAhBA,6CAaA,wBAbA,CACA,yBACA,aACA,qBAOA,wBANA,wBACA,cACA5H,eACAyH,gBAWA,SACA,cACAzH,aACAyH,sBAIAG,oBAEA/B,gBACA,4BACA,0BAGAC,gBACA,oCACA,0CACA+B,0BACAA,8BACAA,UACAC,0BC5M8V,MCQ1V,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCPA,IACfrC,eACAqB,YAAAiB,YACAnG,OACA,OACA4D,oBCjBiV,MCQ7U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCnBXvU,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,YAAY,CAAGR,EAAI8W,aAAgB9W,EAAI+W,YAAsnB/W,EAAI+W,YAA8G,CAAC7W,EAAG,MAAM,CAACM,YAAY,UAAUI,MAAM,CAAEuU,MAAQnV,EAAIgX,mBAAoBnD,GAAG,CAAC,UAAY,SAASQ,GAAQrU,EAAIgX,mBAAoB,GAAM,SAAW,SAAS3C,GAAQrU,EAAIgX,mBAAoB,KAAS,CAAC9W,EAAG,MAAM,CAACM,YAAY,eAAeyW,YAAY,CAAC,SAAW,UAAU7V,MAAO,CAAE4L,MAAOhN,EAAI+W,YAAY/J,MAAM,KAAMD,OAAQ/M,EAAI+W,YAAYhK,OAAO,OAAS,CAAC7M,EAAG,MAAM,CAACkB,MAAO,CAAE4L,MAAOhN,EAAI+W,YAAY/J,MAAM,KAAMD,OAAQ/M,EAAI+W,YAAYhK,OAAO,OAAS,CAAC7M,EAAG,MAAM,CAACS,IAAI,eAAeP,MAAM,CAAC,IAAMJ,EAAI+W,YAAYG,IAAI,IAAM,IAAIrD,GAAG,CAAC,KAAO7T,EAAImX,wBAAwBjX,EAAG,MAAM,CAACS,IAAI,uBAAuBsW,YAAY,CAAC,QAAU,QAAQ7W,MAAM,CAAC,IAAMJ,EAAI+W,YAAYK,UAAU,IAAM,UAAUlX,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,OAAO,CAACM,YAAY,SAASqT,GAAG,CAAC,MAAQ7T,EAAIqX,qBAAqB,CAACnX,EAAG,IAAI,CAACM,YAAY,0BAAx4B,CAACN,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,MAAM,CAACoX,SAAS,CAAC,UAAYtX,EAAIyB,GAAGzB,EAAI8W,mBAAxsB,CAAC5W,EAAG,MAAM,CAACM,YAAY,aAAa,CAACN,EAAG,MAAM,CAACM,YAAY,oBAAoBI,MAAM,CAAC,cAAeZ,EAAIuX,UAAU1D,GAAG,CAAC,MAAQ7T,EAAIwX,YAAY,KAAO,SAASnD,GAAgC,OAAxBA,EAAOoD,iBAAwBzX,EAAI0X,WAAWC,MAAM,KAAMC,YAAY,SAAW,SAASvD,GAAgC,OAAxBA,EAAOoD,iBAAwBzX,EAAI6X,eAAeF,MAAM,KAAMC,YAAY,UAAY,SAASvD,GAAQA,EAAOoD,iBAAiBzX,EAAIuX,UAAW,KAAS,CAACrX,EAAG,IAAI,CAACM,YAAY,mBAAmBR,EAAI8X,GAAG,KAAK5X,EAAG,QAAQ,CAACS,IAAI,QAAQH,YAAY,mBAAmBJ,MAAM,CAAC,OAASJ,EAAI+X,OAAO,KAAO,OAAO,KAAO,QAAQlE,GAAG,CAAC,OAAS7T,EAAIgY,mBAAw8B9X,EAAG,YAAY,CAACE,MAAM,CAAC,QAAUJ,EAAIiY,qBAAqB,MAAQ,KAAK,iBAAiB,GAAG,wBAAuB,EAAM,yBAAwB,EAAM,MAAQ,QAAQ,cAAa,EAAM,oBAAmB,GAAMpE,GAAG,CAAC,iBAAiB,SAASQ,GAAQrU,EAAIiY,qBAAqB5D,KAAU,CAACnU,EAAG,UAAU,CAACS,IAAI,UAAUP,MAAM,CAAC,KAAO,QAAQ,MAAQJ,EAAIkY,MAAMrE,GAAG,CAAC,iBAAiB7T,EAAImY,wBAAwBjY,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,UAAU6U,KAAK,UAAU,CAAC/U,EAAG,YAAY,CAAC2T,GAAG,CAAC,MAAQ7T,EAAIoY,QAAQ,CAACpY,EAAIwB,GAAG,QAAQtB,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWyT,GAAG,CAAC,MAAQ7T,EAAIqY,SAAS,CAACrY,EAAIwB,GAAG,SAAS,IAAI,IAAI,IAE3vEnB,GAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,mBAAmB,CAACR,EAAIwB,GAAG,aAAatB,EAAG,KAAK,CAACE,MAAM,CAAC,kBAAkB,KAAK,CAACJ,EAAIwB,GAAG,cCFhLzB,GAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,MAAM,CAAC+W,YAAY,CAAC,OAAS,UAAU,CAAC/W,EAAG,cAAc,CAACS,IAAI,UAAUP,MAAM,CAAC,IAAMJ,EAAIsY,MAAM,cAAc,MAAM,MAAO,EAAM,MAAO,EAAK,gBAAe,EAAM,aAAY,EAAK,cAAa,EAAK,MAAO,EAAM,UAAW,EAAK,KAAO,QAAQ,cAAgBtY,EAAIuY,YAAYvL,MAAM,eAAiBhN,EAAIuY,YAAYxL,QAAQ8G,GAAG,CAAC,YAAY7T,EAAIwY,aAAa,GAAGtY,EAAG,MAAM,CAACM,YAAY,YAAYR,EAAIgB,GAAI8Q,OAAOC,KAAK/R,EAAIyY,OAAO,SAAS1H,GAAG,OAAO7Q,EAAG,WAAW,CAACiB,IAAI4P,EAAE3Q,MAAM,CAAC,MAAQ2Q,EAAE,OAAS,IAAImC,MAAM,CAACC,MAAOnT,EAAI0Y,YAAarF,SAAS,SAAUC,GAAMtT,EAAI0Y,YAAYpF,GAAKE,WAAW,gBAAgB,CAACxT,EAAIwB,GAAGxB,EAAIyB,GAAGsP,SAAQ,MAE7sB1Q,GAAkB,G,aC4BP,IACfkU,eACAc,OACAiD,OACAxJ,mBACAwG,aACAC,aAEAzG,MACAA,YACAwG,gBACAC,cAGA7E,OACA,OACAgI,wBAGA1C,UACAyC,iBACAF,cACA,qCACA,OACAI,cACAC,eACA5L,UACAD,cAIAoJ,OACArH,MACAsH,aACAC,WACA,qBAGAqC,cACA,oBACA,gCAIAlD,SAEAgD,YACA,WACA,oCAEA,mCAIAK,OACA,uBACA,mCACA,sCACAjC,uBACAkC,GACA1B,YACAF,MACAyB,yCACAC,2CACA5L,6BACAD,wCC/FiV,MCQ7U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCmCA,IACfwH,gBACAqB,YAAAmD,YACA1D,OACA0C,QACAjJ,YACAyG,YACAD,aAGA5E,OACA,OACAsI,YACAzB,YACAW,UACAD,wBACAS,gBACA5B,iBACAC,iBACAC,uBAGAb,OACA+B,QACA,IACA,gCAIA1C,SAEA6C,SACA,0BACAY,KAAAC,IACA,mBACA,eACA,gCAIAd,QACA,6BACA,sBACA,eACA,qBAEAe,wBACA,wBAGAhC,uBACA,gDACAiC,2BACAC,yCACAjC,qCACAkC,kCACAC,oCACAvM,mCACAD,wCAIAsK,qBACA,sBACA,sDAGAc,wBACA,oBAGAqB,oBACA,GACA,iCACA5C,wBAEA,gBAIAY,cACA,gBACA,4BACA,2BAIAQ,gBACA,uBACA,GACA,6BAGAH,iBACA,gBACA,mBAIAH,cACA,iBACA,YAIA,qEACA,WACA5I,EADA,KAEAyF,GACA2D,EACA,oBACA,uBACA,GACA,wBACA,8BACA5K,IAAAwB,aACAmD,OAAAnD,MACA2K,KAAAC,GACA,gBACA,MAEA,gBACA,4BAEA,4BACA,SAIA,IA3BA,kDC5JkV,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCZR,SAASC,GAAQP,EAAIQ,GAC1B,OAAO,IAAIC,QAAQf,IACjB,MAAMgB,EAAevN,SAASmD,cAAc,UACtCqK,EAAgBD,EAAa5M,WAAW,MAC9C4M,EAAa9M,MAAQoM,EAAG7J,aACxBuK,EAAa/M,OAASqM,EAAG5J,cACzBuK,EAAcnK,UAAUwJ,EAAI,EAAG,GAC/B,MAAMY,EAASzN,SAASmD,cAAc,UAChCuK,EAAUD,EAAO9M,WAAW,OAC5B,MACJF,EADI,OAEJD,GACE6M,EACJI,EAAOhN,MAAQA,EACfgN,EAAOjN,OAASA,EAChBkN,EAAQrK,UACNkK,EACA,EACA,EACAA,EAAa9M,MACb8M,EAAa/M,OACb,EACA,EACAC,EACAD,GAEF,MAAMsD,EAAY4J,EAAQ3J,aAAa,EAAG,EAAGtD,EAAOD,GACpD,IAAImN,EAAM,EACV,IAAK,IAAI3J,EAAI,EAAGA,EAAIF,EAAUtD,OAAQwD,IACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAUrD,MAAOwD,IAAK,CACxC,MAAMpN,EAAQ,EAAJmN,EAAQF,EAAUrD,MAAY,EAAJwD,EAC9BzN,EAAIsN,EAAUK,KAAKtN,GACnBJ,EAAIqN,EAAUK,KAAKtN,EAAI,GACvBH,EAAIoN,EAAUK,KAAKtN,EAAI,GACvB+W,EAAMnT,EAAQjE,EAAGC,EAAGC,GAM1B,GAJI2W,EAAQ1V,IAEVgW,GAAOnX,EAAIC,EAAIC,GAEb2W,EAAQ7S,GAAK6S,EAAQ9S,EAAG,CAEtB8S,EAAQ7S,IACV6S,EAAQ7S,EAAI5E,KAAKoD,IAAIqU,EAAQ7S,GAAI,GACjC6S,EAAQ7S,EAAI5E,KAAK8D,IAAI2T,EAAQ7S,EAAG,GAChCoT,EAAI,IAAO,EAAIP,EAAQ7S,GAGrB6S,EAAQ9S,IACV8S,EAAQ9S,EAAI3E,KAAKoD,IAAIqU,EAAQ9S,GAAI,GACjC8S,EAAQ9S,EAAI3E,KAAK8D,IAAI2T,EAAQ9S,EAAG,GAChCqT,EAAI,IAAO,EAAIP,EAAQ9S,GAEzB,MAAMsT,EAASnT,KAAWkT,GAC1B9J,EAAUK,KAAKtN,GAAKgX,EAAO,GAC3B/J,EAAUK,KAAKtN,EAAI,GAAKgX,EAAO,GAC/B/J,EAAUK,KAAKtN,EAAI,GAAKgX,EAAO,IAIrC,GAAIR,EAAQ1V,EAAG,CACb0V,EAAQ1V,EAAI/B,KAAKoD,IAAIqU,EAAQ1V,GAAI,GACjC0V,EAAQ1V,EAAI/B,KAAK8D,IAAI2T,EAAQ1V,EAAG,GAChC,MAAMuM,EAAMyJ,EAAM7J,EAAUK,KAAKrN,OACjC,IAAK,IAAIkN,EAAI,EAAGA,EAAIF,EAAUtD,OAAQwD,IACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAUrD,MAAOwD,IAAK,CACxC,MAAMpN,EAAQ,EAAJmN,EAAQF,EAAUrD,MAAY,EAAJwD,EAC9BzN,EAAIsN,EAAUK,KAAKtN,GACnBJ,EAAIqN,EAAUK,KAAKtN,EAAI,GACvBH,EAAIoN,EAAUK,KAAKtN,EAAI,GAC7B,GAAIwW,EAAQ1V,EAAI,EACd,IAAmB,IAAf0V,EAAQ1V,EAAU,CACpB,MAAMA,EAAI/B,KAAKmE,MAAMmK,GACrBJ,EAAUK,KAAKtN,GAAKc,EACpBmM,EAAUK,KAAKtN,EAAI,GAAKc,EACxBmM,EAAUK,KAAKtN,EAAI,GAAKc,OAExBmM,EAAUK,KAAKtN,GAAKjB,KAAKmE,MAAMvD,GAAKA,EAAI0N,GAAOmJ,EAAQ1V,GACvDmM,EAAUK,KAAKtN,EAAI,GAAKjB,KAAKmE,MAAMtD,GAAKA,EAAIyN,GAAOmJ,EAAQ1V,GAC3DmM,EAAUK,KAAKtN,EAAI,GAAKjB,KAAKmE,MAAMrD,GAAKA,EAAIwN,GAAOmJ,EAAQ1V,OAExD,CACL,MAAMA,EAAI,OAAa,IAAM,IAAM0V,EAAQ1V,GAAK,IAChDmM,EAAUK,KAAKtN,GAAKjB,KAAKmE,MAAMvD,GAAKA,EAAI0N,GAAOvM,EAAI,KACnDmM,EAAUK,KAAKtN,EAAI,GAAKjB,KAAKmE,MAAMtD,GAAKA,EAAIyN,GAAOvM,EAAI,KACvDmM,EAAUK,KAAKtN,EAAI,GAAKjB,KAAKmE,MAAMrD,GAAKA,EAAIwN,GAAOvM,EAAI,OAK/D+V,EAAQtJ,aAAaN,EAAW,EAAG,EAAG,EAAG,EAAGrD,EAAOD,GACnDiN,EAAOK,OAAOC,GAAQxB,EAAQwB,MAI3B,SAAS3H,GAAUiH,GACxB,OAAO,IAAIC,QAASf,IAClB,MAAMkB,EAASzN,SAASmD,cAAc,UAChCuK,EAAUD,EAAO9M,WAAW,MAClC8M,EAAOhN,MAAQ4M,EAAQhN,OACvBoN,EAAOjN,OAAS6M,EAAQ/M,OACxBoN,EAAQrK,UAAUgK,EAAQR,GAAI,EAAG,EAAGQ,EAAQhN,OAAQgN,EAAQ/M,QAE5D,MAAMoE,EAAa1E,SAASmD,cAAc,UACpC6K,EAActJ,EAAW/D,WAAW,MAE1C+D,EAAWjE,MAAQgN,EAAOhN,MAC1BiE,EAAWlE,OAASiN,EAAOjN,OAC3BwN,EAAY3K,UAAUoK,EAAQ,EAAG,GACjC,MAAMQ,EAAQ,GAiBd,GAhBAR,EAAOhN,MAAQgN,EAAOhN,MAAQwN,EAC9BR,EAAOjN,OAASiN,EAAOjN,OAASyN,EAChCP,EAAQlK,0BAA2B,EACnCkK,EAAQjK,6BAA8B,EACtCiK,EAAQhK,uBAAwB,EAChCgK,EAAQrK,UACNqB,EACA,EACA,EACAA,EAAWjE,MACXiE,EAAWlE,OACX,EACA,EACAiN,EAAOhN,MACPgN,EAAOjN,QAEL6M,EAAQnG,YAAa,CACvB,GAAImG,EAAQxI,SAAU,CACpB,MAAMhB,EAAI4J,EAAOhN,MACXzG,EAAIyT,EAAOjN,OACXsE,EAAO2I,EAAOhN,MAAQ4M,EAAQhN,OACpC,IAAIyD,EAAY4J,EAAQ3J,aAAa,EAAG,EAAGF,EAAG7J,GAC9C0T,EAAQ3I,YAAc,QACtB2I,EAAQ1I,UAAY,EACpB,IAAK,IAAIhB,EAAIc,EAAMd,EAAIF,EAAUtD,OAAQwD,GAAKc,EAC5C4I,EAAQzI,YACRyI,EAAQxI,OAAO,EAAGlB,GAClB0J,EAAQvI,OAAOtB,EAAGG,GAClB0J,EAAQtI,SAEV,IAAK,IAAInB,EAAIa,EAAMb,EAAIH,EAAUrD,MAAOwD,GAAKa,EAC3C4I,EAAQzI,YACRyI,EAAQxI,OAAOjB,EAAG,GAClByJ,EAAQvI,OAAOlB,EAAGjK,GAClB0T,EAAQtI,SAGZ,GAAIiI,EAAQlG,SAAU,CACpB,MAAM7B,EAAmBC,OAAOC,KAAK6H,EAAQzM,YAC7C,GAAI0E,EAAiBxO,OAAS,EAAG,CAC/B,MAAM2O,EAAS4H,EAAQ9M,QAAQmF,OAAO/N,GAAK2N,EAAiBxE,SAASnJ,EAAEsJ,KAAK,OACtE6D,EAAO2I,EAAOhN,MAAQ4M,EAAQhN,OACpCqN,EAAQ/H,KAAU/P,KAAKmE,MAAa,GAAP+K,GAAb,gBAChB4I,EAAQ9H,aAAe,SACvB8H,EAAQ7H,UAAY,SACpB,MAAMC,EAAS,EACf,IAAK,IAAIjP,EAAI,EAAGA,EAAI4O,EAAO3O,OAAQD,IAAK,CACtC,MAAMc,EAAI8N,EAAO5O,GACX2N,EAAI7M,EAAEsJ,KAAK,KACjByM,EAAQ3H,UAAY/Q,EAAa2C,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAM,OAAS,OAC9D,IAAK,IAAIqO,EAAI,EAAGA,EAAIqH,EAAQzM,WAAW4D,GAAG1N,OAAQkP,IAAK,CACrD,MAAM/B,EAAIoJ,EAAQzM,WAAW4D,GAAGwB,GAAKqH,EAAQhN,OACvC2D,EAAIpO,KAAKqE,MAAMoT,EAAQzM,WAAW4D,GAAGwB,GAAKqH,EAAQhN,QACxDqN,EAAQzH,SAAU,IAAEpP,EAAI,GAAKoN,EAAIa,EAAOA,EAAO,EAAGd,EAAIc,EAAOA,EAAO,EAAIgB,EAAQhB,OAO1FJ,EAAWjE,MAAQgN,EAAOhN,MAC1BiE,EAAWlE,OAASiN,EAAOjN,OAC3BwN,EAAY3K,UAAUoK,EAAQ,EAAG,GACjC,MAAMhN,EAAQgN,EAAOhN,MACfD,EAASiN,EAAOjN,OAChB0N,EAAU,GAChBT,EAAOhN,MAAQA,EAAQ,EAAIyN,EAC3BT,EAAOjN,OAASA,EAAS,EAAI0N,EAC7B,MAAM5I,EAAmBC,OAAOC,KAAK6H,EAAQzM,YACvCuN,EAAQ,IAAMF,EACdG,EAAQ,IAAMH,EACdI,EAAQ,EAAIJ,EACZK,EAAU1Y,KAAKqE,OAAOwG,EAAQ4N,IAAUF,EAAQE,IAChDE,EAAO3Y,KAAK8D,IAAI4U,EAAShJ,EAAiBxO,QAC1C0X,EAAO5Y,KAAK6Y,KAAKnJ,EAAiBxO,OAASwX,GAoBjD,GAnBIjB,EAAQnG,cACVuG,EAAOjN,OAASiN,EAAOjN,OAAUgO,EAAOJ,GAAUI,EAAO,GAAKH,EAAQH,GAExER,EAAQlK,0BAA2B,EACnCkK,EAAQjK,6BAA8B,EACtCiK,EAAQhK,uBAAwB,EAChCgK,EAAQ3H,UAAY,OACpB2H,EAAQgB,SAAS,EAAG,EAAGjB,EAAOhN,MAAOgN,EAAOjN,QAC5CkN,EAAQrK,UACNqB,EACA,EACA,EACAA,EAAWjE,MACXiE,EAAWlE,OACX0N,EACAA,EACAzN,EACAD,GAEE6M,EAAQnG,YAAa,CACvB,MAAMzB,EAAS4H,EAAQ9M,QACpBmF,OAAO/N,GAAK2N,EAAiBxE,SAASnJ,EAAEsJ,KAAK,OAC7CF,IAAI,CAACpJ,EAAG2M,KACP,MAAME,EAAI7M,EAAEsJ,KAAK,KACjB,MAAO,CACL9L,GAAImP,EAAQ,EACZvP,MAAOwB,KAAWoB,GAClBvC,MAAOiY,EAAQzM,WAAW4D,GAAG1N,OAC7B9B,aAAcA,KAAgB2C,MAa9BgX,EAAgB,CAACC,EAAK3K,EAAGD,EAAGvD,EAAOD,EAAQqO,EAAuBC,KAEtE,GAAI,EAAID,EAASpO,GAAS,EAAIoO,EAASrO,EACrC,OAAO,EAEToO,EAAIG,OACJH,EAAII,UAAU/K,EAAGD,GAEjBiL,EAAkBL,EAAKC,EAAQpO,EAAOD,GACtCoO,EAAI7I,UAAY+I,GAAa,OAC7BF,EAAIM,OACJN,EAAIO,WAcAC,EAAkB,CAACR,EAAK3K,EAAGD,EAAGvD,EAAOD,EAAQqO,EAAuB7J,EAA0BqK,KAElG,GAAI,EAAIR,EAASpO,GAAS,EAAIoO,EAASrO,EACrC,OAAO,EAEToO,EAAIG,OACJH,EAAII,UAAU/K,EAAGD,GAEjBiL,EAAkBL,EAAKC,EAAQpO,EAAOD,GACtCoO,EAAI5J,UAAYA,GAAa,EAC7B4J,EAAI7J,YAAcsK,GAAe,OACjCT,EAAIxJ,SACJwJ,EAAIO,WAGAF,EAAoB,CAACL,EAAKC,EAAQpO,EAAOD,KAC7C,MAAO8O,EAAIxU,EAAIG,EAAIsU,GAAMV,EACzBD,EAAI3J,YAEJ2J,EAAIY,IAAI/O,EAAQ6O,EAAI9O,EAAS8O,EAAIA,EAAI,EAAG1Z,KAAKC,GAAK,GAElD+Y,EAAIzJ,OAAOrK,EAAI0F,GAEfoO,EAAIY,IAAI1U,EAAI0F,EAAS1F,EAAIA,EAAIlF,KAAKC,GAAK,EAAGD,KAAKC,IAE/C+Y,EAAIzJ,OAAO,EAAGlK,GAEd2T,EAAIY,IAAIvU,EAAIA,EAAIA,EAAIrF,KAAKC,GAAc,EAAVD,KAAKC,GAAS,GAE3C+Y,EAAIzJ,OAAO1E,EAAQ8O,EAAI,GAEvBX,EAAIY,IAAI/O,EAAQ8O,EAAIA,EAAIA,EAAc,EAAV3Z,KAAKC,GAAS,EAAa,EAAVD,KAAKC,IAElD+Y,EAAIzJ,OAAO1E,EAAOD,EAAS+O,GAC3BX,EAAIa,aAGN,IAAIra,EAAQ,EACZ,MAAMyZ,EAAS,GACTa,EAAY1P,SAASmD,cAAc,UACzCuM,EAAUjP,MAAQ0N,EAClBuB,EAAUlP,OAAS4N,EACnB,MAAMuB,EAAaD,EAAU/O,WAAW,MACxC,IAAK,IAAIiP,EAAM,EAAGA,EAAMpB,EAAMoB,IAC5B,IAAK,IAAIC,EAAM,EAAGA,EAAMtB,EAAMsB,IAAO,CACnC,MAAM5L,EAAIiK,EAAU2B,GAAO1B,EAAQE,GAC7BrK,EAAIpO,KAAKmE,MAAMyG,EAAoB,EAAV0N,EAAe0B,GAAOxB,EAAQC,IACvDyB,EAAYrK,EAAOrQ,GAmBzB,GAlBAsY,EAAQqC,cAAgB,EACxBrC,EAAQsC,cAAgB,EACxBtC,EAAQuC,WAAa,GACrBvC,EAAQwC,YAAc,qBACtBd,EAAgB1B,EAASzJ,EAAGD,EAAGmK,EAAOC,EAAO,CAACS,EAAQA,EAAQA,EAAQA,GAAS,EAAG,QAClFF,EAAcjB,EAASzJ,EAAI,EAAGD,EAAI,EAAGmK,EAAQ,EAAGC,EAAQ,EAAI,EAAG,CAAC,EAAG,EAAGS,EAAQA,GAASiB,EAAU/a,OACjG4Z,EAAcjB,EAASzJ,EAAGD,EAAI,EAAIpO,KAAKqE,MAAMmU,EAAQ,GAAID,EAAOC,EAAQ,EAAI,EAAG,CAACS,EAAQA,EAAQ,EAAG,GAAI,QACvGa,EAAUjP,MAAQ0N,EAClBwB,EAAW5J,UAAY,yBACvB4J,EAAW/J,aAAe,SAC1B+J,EAAW9J,UAAY,SACvB8J,EAAWhK,KAAU/P,KAAKmE,MAAMqU,EAAQ,EAAI,IAAzB,gBACnBuB,EAAW5J,UAAY+J,EAAU9a,aAAe,OAAS,OACzD2a,EAAW1J,SAAS6J,EAAU3a,GAAIgZ,EAAQ,EAAGC,EAAQ,EAAGD,GACxDwB,EAAW5J,UAAY,OACvB4J,EAAW1J,SAAS6J,EAAU1a,MAAO+Y,EAAQ,EAAW,EAARC,EAAY,EAAGD,GAC/DT,EAAQrK,UAAUqM,EAAWzL,EAAGD,GAChC5O,IACIA,IAAUqQ,EAAO3O,OACnB,OAKR,MAAMqP,EAAOnG,SAASmD,cAAc,KACpCgD,EAAKC,SAAW,gBAChBD,EAAKE,KAAOoH,EACTnH,UAAU,aACVC,QAAQ,YAAa,sBACxBvG,SAASwG,cAAc,QAAQjD,YAAY4C,GAC3CA,EAAKM,QACLzG,SAASwG,cAAc,QAAQE,YAAYP,GAC3CoG,MC5PW,QACfvE,eACAqB,YACA8G,YACAC,YAEAtH,OACAuH,SACA9N,YACAwG,aACAC,cAGA7E,OACA,0CACA,OACA0D,eACAhI,SACA2H,aACAI,WACAF,eAGA+B,UACAvK,uCACAtK,MACAgS,WAEAS,eACA,+BAEAH,cACA,8CAEAoJ,mBACA,gDAGA1G,OACA/J,QACA0Q,QACAzG,WACA,0CAGAwG,sBACA,kCACA,kBACA,gBACA,qBAIArH,SACA7B,iBACA,UAEAG,0BACA6F,mCACA3M,uCACAD,yCACAjG,QACAC,sBACA7C,sBAEA+U,KAAAqB,IACA,iEACA1D,0BAGA5C,0BACA2F,mCACA3M,uCACAD,yCACAhG,QACAD,sBACA5C,sBAEA+U,KAAAqB,IACA,iEACA1D,0BAGA1C,wBACAyF,mCACA3M,uCACAD,yCACA7I,QACA6C,sBACAD,wBAEAmS,KAAAqB,IACA,iEACA1D,0BAGAjE,WACA,oBACAA,IACAyG,4CACAtM,kCACAK,wCACAP,mCACAC,oCACA4G,kDACAC,YACAtC,cAEA6H,KAAA,KACA,yBCnMiV,MCQ7U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCQA,IACf1E,YACAqB,YAAAmH,YACArM,OACA,OACAjQ,QACAoc,sBACAnc,cACAK,gBACAD,iBAGAkV,UACA5J,SACA,qCAEAU,UACA,wDAEA2G,cACA,+BAGA0C,OACA,uCACA,oBACA,oBACA,2BAGAzV,cACA,IACA,sBAGAmc,oBACA,GACA,aAGAzQ,QACA0Q,QACAzG,UACA,qBACA,cAGA,4BACA,iBACA,cAIAb,SACArE,OACA,SACAiI,EADA,MAEApM,EAFA,OAGAD,GACA,uBACA,UACAqG,EADA,SAEAhC,EAFA,QAGAtE,EAHA,SAIA4G,EAJA,WAKA3S,GACA,YACA,QACA,eACAuL,qBACAI,OACAC,wBACAC,SACAC,SACAC,qBACAE,UACAD,aAEA,eACAuC,WACAhB,SAAAtB,GACAuB,UAAAxB,GACAiE,cACA,qBACA,yBAEA,6BACA,2DACA,sBACAzC,UAAAxB,KACAiE,cACA,GACA,mBAEA,qBACA,sBAEA,sBACA,sCAEA,yBC/H8U,MCQ1U,I,UAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,OAIa,M,QCffgM,aAAIC,IAAIC,QAER,MAAMC,GAAS,CACb,CACEC,KAAM,IACN7I,KAAM,OACNhU,UAAW8c,KAITC,GAAS,IAAIJ,OAAU,CAC3BC,YAGaG,U,yBCffN,aAAIC,IAAIM,SAGR,MAAMC,GAAeC,UAIfC,GAAUF,GAAazL,OAAO4L,OAAO,CAACD,EAASE,KAEnD,MAAMC,EAAaD,EAAW9K,QAAQ,kBAAmB,MACnDK,EAAQqK,GAAaI,GAE3B,OADAF,EAAQG,GAAc1K,EAAMmC,QACrBoI,GACN,IAEGI,GAAQ,IAAIP,QAAKQ,MAAM,CAC3BL,aAGaI,U,oECbfd,aAAI5Q,OAAO4R,eAAgB,EAE3BhB,aAAIC,IAAIgB,KAAW,CAAEC,KAAM,UAC3BlB,aAAIC,IAAIkB,MAER,IAAInB,aAAI,CACNM,UACAQ,SACA/d,OAAQwG,GAAKA,EAAE6X,KACdC,OAAO,S,oCClBV,oEAAO,MAOM5F,EAAO,CAClB,QAAS,CAAC,GAAI,IACd,QAAS,CAAC,GAAI,IACd,QAAS,CAAC,GAAI,KAGH6F,EAAiB,CAAC,CAC7B/J,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,MACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,MACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,MACNpB,MAAO,WACN,CACDoB,KAAM,MACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,MACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,WACN,CACDoB,KAAM,KACNpB,MAAO,a,6DCpFT,W,oCCAA,W,mECAA,IAAI7F,EAAM,CACT,WAAY,QAIb,SAASiR,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEtR,EAAKkR,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOvR,EAAIkR,GAEZD,EAAexM,KAAO,WACrB,OAAOD,OAAOC,KAAKzE,IAEpBiR,EAAezF,QAAU4F,EACzBM,EAAOC,QAAUV,EACjBA,EAAeE,GAAK,Q,kCCtBpB,W,kCCAA,uBAEA,MAAMS,EAAQ,CACZrC,iBAAkB,KAClB7K,OAAQmN,aAAaC,QAAQ,WAAaC,KAAKC,MAAMH,aAAaC,QAAQ,YAAcd,OACxFlS,OAAQ,CACNgH,UAAW,QACXhC,UAAU,EACVtE,SAAS,EACT4G,UAAU,EACV3S,YAAY,IAIVwe,EAAY,CAChBC,uBAAwB,CAACN,EAAOhG,KAC9BgG,EAAMrC,iBAAmB3D,GAE3BuG,WAAY,CAACP,EAAO9S,KAClB8S,EAAM9S,OAASA,GAEjBsT,WAAY,CAACR,EAAOlN,KAClBkN,EAAMlN,OAASA,IAIb2N,EAAU,CACdC,qBAAqB,OAAEC,GAAU3G,GAC/B2G,EAAO,yBAA0B3G,IAEnC4G,WAAW,OAAED,GAAUzT,GACrByT,EAAO,aAAczT,IAEvB2T,WAAW,OAAEF,GAAU7N,GACrBmN,aAAaa,QAAQ,UAAWX,KAAKY,UAAUjO,IAC/C6N,EAAO,aAAc7N,KAIV,cACbkO,YAAY,EACZhB,QACAK,YACAI,Y,uGC3CF,W,kCCAA,Y","file":"static/js/app.0119827d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=64646026&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&id=f09f0ef8&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaletteColor.vue?vue&type=style&index=0&id=18b5fd24&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=200c8304&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&id=200c8304&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"sidebar\"},[_c('sidebar',{attrs:{\"pixelit\":_vm.px}})],1),_c('div',{staticClass:\"container\"},[(_vm.showCanvas)?[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",class:{hidden:!_vm.canvasReady}}),_c('img',{ref:\"baseCanvasUrl\",staticClass:\"hidden\",attrs:{\"id\":\"baseCanvasUrl\",\"alt\":\"\"}}),(_vm.statistics)?_c('div',{staticClass:\"statistics\"},_vm._l((_vm.statistics),function(item,idx){return _c('div',{key:idx,staticClass:\"statistics-box\"},[_c('div',{staticClass:\"color\",style:({background: `rgba(${item.color})`,color:item.isLightColor ? '#000' : '#fff' })},[_vm._v(\" \"+_vm._s(item.no)+\" \")]),_c('div',{staticClass:\"count\"},[_vm._v(_vm._s(item.count))])])}),0):_vm._e()]:_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable camelcase */\n\n//  CIE算法常数\nconst k_L = 1\nconst k_C = 1\nconst k_H = 1\nconst pow25To7 = 6103515625 /* pow(25, 7) */\nconst deg2Rad = (deg) => deg * (Math.PI / 180)\nconst rad2Deg = (rad) => (180 / Math.PI) * rad\nconst deg360InRad = deg2Rad(360)\nconst deg180InRad = deg2Rad(180)\nconst K1 = 0.045\nconst K2 = 0.015\n\n/**\n * 是否明亮颜色\n * @param {number} r\n * @param {number} g\n * @param {number} b\n * @return {boolean}\n */\nexport function isLightColor (r, g, b) {\n  return 0.213 * r + 0.715 * g + 0.072 * b > 255 / 2\n}\n\n/**\n * RGB转16进制\n * @param {number} R\n * @param {number} G\n * @param {number} B\n * @return {string}\n * @constructor\n */\nexport function RGB2HEX (R, G, B) {\n  let strHex = '#'\n  const rgb = [R, G, B]\n  // 转成16进制\n  for (let i = 0; i < rgb.length; i++) {\n    let hex = Number(rgb[i]).toString(16)\n    hex = hex.length === 1 ? '0' + hex : hex\n    strHex += hex\n  }\n  return strHex\n}\n\n/**\n * 16进制转RGB\n * @param {string} hex\n * @return {[]}\n * @constructor\n */\nexport function HEX2RGB (hex) {\n  // 把颜色值变成小写\n  hex = hex.toLowerCase()\n  // 如果只有三位的值，需变成六位，如：#fff => #ffffff\n  if (hex.length === 4) {\n    let colorNew = '#'\n    for (let i = 1; i < 4; i += 1) {\n      colorNew += hex.slice(i, i + 1).concat(hex.slice(i, i + 1))\n    }\n    hex = colorNew\n  }\n  // 处理六位的颜色值，转为RGB\n  const color = []\n  for (let i = 1; i < 7; i += 2) {\n    color.push(parseInt('0x' + hex.slice(i, i + 2)))\n  }\n  return color\n}\n\n/**\n * RGB 转 XYZ 颜色空间\n * @param R\n * @param G\n * @param B\n * @return {number[]}\n * @constructor\n */\nexport function RGB2XYZ (R, G, B) {\n  const gamma = (c) => c > 0.04045 ? Math.pow((c + 0.055) / 1.055, 2.4) : c / 12.92\n  const RR = gamma(R / 255)\n  const GG = gamma(G / 255)\n  const BB = gamma(B / 255)\n  return [\n    // X\n    (RR * 0.4124 + GG * 0.3576 + BB * 0.1805),\n    // Y\n    (RR * 0.2126 + GG * 0.7152 + BB * 0.0722),\n    // Z\n    (RR * 0.0193 + GG * 0.1192 + BB * 0.9505)\n  ]\n}\n\n/**\n * XYZ 转 Lab 颜色空间\n * @param X\n * @param Y\n * @param Z\n * @return {(number|number)[]}\n * @constructor\n */\nexport function XYZ2Lab (X, Y, Z) {\n  const PARAM_13333 = 1 / 3\n  const PARAM_16116 = 4 / 29\n  const PARAM_77870 = (1 / 3) * Math.pow(29 / 6.9, 2)\n  const PARAM_00088 = Math.pow(6 / 29, 3)\n  const Xn = 0.950456\n  const Yn = 1\n  const Zn = 1.088754\n  const ft = (t) => {\n    if (t > PARAM_00088) {\n      return Math.pow(t, PARAM_13333)\n    } else {\n      return PARAM_77870 * t + PARAM_16116\n    }\n  }\n  const fX = ft(X / Xn)\n  const fY = ft(Y / Yn)\n  const fZ = ft(Z / Zn)\n  return [\n    // L\n    Math.max(116 * fY - 16, 0),\n    // a\n    (500 * (fX - fY)),\n    // b\n    (200 * (fY - fZ))\n  ]\n}\n\n/**\n * RGB 转 Lab 颜色空间\n * @param R\n * @param G\n * @param B\n * @return {number[]}\n * @constructor\n */\nexport function RGB2Lab (R, G, B) {\n  return XYZ2Lab(...RGB2XYZ(R, G, B))\n}\n\n/**\n * Lab 转 Lch 颜色空间\n * @param L\n * @param a\n * @param b\n * @return {(*|number|number)[]}\n * @constructor\n */\nexport function LabToLch (L, a, b) {\n  const C = Math.sqrt(a * a + b * b)\n  let H = C <= 0 ? 0 : rad2Deg(Math.atan2(b, a))\n  // Shift the H channel to within the range [0, 360]\n  while (H >= 360) H -= 360\n  while (H < 0) H += 360\n  return [L, C, H]\n}\n\n/**\n * RGB 转 HSV\n * @param R\n * @param G\n * @param B\n * @return {(number|number)[]} H:0-360 S:0-1 V:0-1\n * @constructor\n */\nexport function RGB2HSV (R, G, B) {\n  const min = Math.min(R, G, B)\n  const max = Math.max(R, G, B)\n  let H, S\n  const V = max\n  const delta = max - min\n  if (delta === 0) { // white, grey, black\n    H = S = 0\n  } else { // chroma\n    S = delta / V\n    if (R === max) {\n      H = (G - B) / delta // between yellow & magenta\n    } else if (G === max) {\n      H = 2 + (B - R) / delta // between cyan & yellow\n    } else {\n      H = 4 + (R - G) / delta // between magenta & cyan\n    }\n    H = ((H * 60) + 360) % 360 // degrees\n  }\n  return [H, S, V / 255]\n}\n\n/**\n * HSV 转 RGB\n * @param H 0-360\n * @param S 0-1\n * @param V 0-1\n * @return {(number|number)[]}\n * @constructor\n */\nexport function HSV2RGB (H, S, V) {\n  H %= 360\n  S = Math.min(Math.max(0, S), 1)\n  V = Math.round(Math.min(Math.max(0, V)) * 255)\n\n  let R, G, B\n\n  if (S === 0) {\n    // achromatic (grey)\n    R = V\n    G = V\n    B = V\n    return [R, G, B]\n  }\n  const h = H / 60 // sector 0 to 5\n  const i = Math.floor(h)\n  const f = h - i // factorial part of h\n  const p = V * (1 - S)\n  const q = V * (1 - S * f)\n  const t = V * (1 - S * (1 - f))\n\n  switch (i) {\n    case 0:\n      R = V\n      G = t\n      B = p\n      break\n    case 1:\n      R = q\n      G = V\n      B = p\n      break\n    case 2:\n      R = p\n      G = V\n      B = t\n      break\n    case 3:\n      R = p\n      G = q\n      B = V\n      break\n    case 4:\n      R = t\n      G = p\n      B = V\n      break\n    default:\n      R = V\n      G = p\n      B = q\n      break\n  }\n  return [Math.round(R), Math.round(G), Math.round(B)]\n}\n\n/**\n * HSV 转 HSL\n * @param H 0-360\n * @param S 0-1\n * @param V 0-1\n * @return {(*|number|number)[]} H:0-360 S:0-1 L:0-1\n * @constructor\n */\nexport function HSV2HSL (H, S, V) {\n  H %= 360\n  S = Math.min(Math.max(0, S), 1)\n  V = Math.min(Math.max(0, V))\n  let L = (2 - S) * V\n  S = S * V\n  if (L && 2 - L) {\n    S /= (L <= 1) ? L : 2 - L\n  }\n  L /= 2\n  return [H, S, L]\n}\n\n/**\n * HSL 转 HSV\n * @param H 0-360\n * @param S 0-1\n * @param L 0-1\n * @return {(*|number|number)[]} H:0-360 S:0-1 V:0-1\n * @constructor\n */\nexport function HSL2HSV (H, S, L) {\n  H %= 360\n  S = Math.min(Math.max(0, S), 1)\n  L = Math.min(Math.max(0, L))\n  const l = 2 * L\n  const s = S * ((l <= 1) ? l : 2 - l)\n  const V = (l + s) / 2\n  S = ((2 * s) / (l + s)) || 0\n  return [H, S, V]\n}\n\n/**\n * RGB 转 HSL\n * @param R\n * @param G\n * @param B\n * @return {[number, number, number]} H:0-360 S:0-1 L:0-1\n * @constructor\n */\nexport function RGB2HSL (R, G, B) {\n  return HSV2HSL(...RGB2HSV(R, G, B))\n}\n\n/**\n * HSL 转 RGB\n * @param H 0-360\n * @param S 0-1\n * @param L 0-1\n * @return {number[]}\n * @constructor\n */\nexport function HSL2RGB (H, S, L) {\n  return HSV2RGB(...HSL2HSV(H, S, L))\n}\n\n/**\n * 欧氏距离\n * @param RGBColor1\n * @param RGBColor2\n */\nexport function euclidean1 (RGBColor1, RGBColor2) {\n  const [r1, g1, b1] = RGBColor1\n  const [r2, g2, b2] = RGBColor2\n  const deltaR = r1 - r2\n  const deltaG = g1 - g2\n  const deltaB = b1 - b2\n  return Math.sqrt(\n    deltaR * deltaR +\n    deltaG * deltaG +\n    deltaB * deltaB\n  )\n}\n\n/**\n * 欧氏距离 加权1\n * @param RGBColor1\n * @param RGBColor2\n */\nexport function euclidean2 (RGBColor1, RGBColor2) {\n  const [r1, g1, b1] = RGBColor1\n  const [r2, g2, b2] = RGBColor2\n  const deltaR = r1 - r2\n  const deltaG = g1 - g2\n  const deltaB = b1 - b2\n  return Math.sqrt(\n    2 * deltaR * deltaR +\n    4 * deltaG * deltaG +\n    3 * deltaB * deltaB\n  )\n}\n\n/**\n * 欧氏距离 加权2\n * @param RGBColor1\n * @param RGBColor2\n * @return {number}\n */\nexport function euclidean3 (RGBColor1, RGBColor2) {\n  const [r1, g1, b1] = RGBColor1\n  const [r2, g2, b2] = RGBColor2\n  const rBar = (r1 + r2) / 2\n  const deltaR = r1 - r2\n  const deltaG = g1 - g2\n  const deltaB = b1 - b2\n  return Math.sqrt(\n    (2 + rBar / 256) * deltaR * deltaR +\n    4 * deltaG * deltaG +\n    (2 + (255 - rBar) / 256) * deltaB * deltaB\n  )\n}\n\n/**\n * CIE Delta E 76 Color-Difference algorithm\n * @param LabColor1\n * @param LabColor2\n * @constructor\n */\nexport function CIEDE76 (LabColor1, LabColor2) {\n  let d = 0\n  for (let i = 0; i < 3; i++) {\n    d += Math.pow(LabColor1[i] - LabColor2[i], 2)\n  }\n  return Math.sqrt(d)\n}\n\n/**\n * CIE Delta E 94 Color-Difference algorithm\n * @param LabColor1\n * @param LabColor2\n * @return {number}\n * @constructor\n */\nexport function CIEDE94 (LabColor1, LabColor2) {\n  const [L1, a1, b1] = LabColor1\n  const [L2, a2, b2] = LabColor2\n  const c1 = Math.sqrt(a1 * a1 + b1 * b1)\n  const c2 = Math.sqrt(a2 * a2 + b2 * b2)\n  const deltaL = L1 - L2\n  const deltaa = a1 - a2\n  const deltab = b1 - b2\n  const deltaC = c1 - c2\n  const deltaH = Math.sqrt(Math.pow(deltaa, 2) + Math.pow(deltab, 2) - Math.pow(deltaC, 2))\n  const S_L = 1\n  const S_C = 1 + K1 * c1\n  const S_H = 1 + K2 * c1\n  return Math.sqrt(\n    Math.pow(deltaL / (k_L * S_L), 2) +\n    Math.pow(deltaC / (k_C * S_C), 2) +\n    Math.pow(deltaH / (k_H * S_H), 2)\n  )\n}\n\n/**\n * CIE Delta E 2000 Color-Difference algorithm\n * @param LabColor1\n * @param LabColor2\n * @return {number}\n * @constructor\n */\nexport function CIEDE2000 (LabColor1, LabColor2) {\n  const [L1, a1, b1] = LabColor1\n  const [L2, a2, b2] = LabColor2\n  const C1 = Math.sqrt(a1 * a1 + b1 * b1)\n  const C2 = Math.sqrt(a2 * a2 + b2 * b2)\n  const CBar = (C1 + C2) / 2\n  const G = 0.5 * (1 - Math.sqrt(Math.pow(CBar, 7) / (Math.pow(CBar, 7) + pow25To7)))\n  const a1Prime = (1 + G) * a1\n  const a2Prime = (1 + G) * a2\n  const C1Prime = Math.sqrt(a1Prime * a1Prime + b1 * b1)\n  const C2Prime = Math.sqrt(a2Prime * a2Prime + b2 * b2)\n  let h1Prime\n  if (b1 === 0 && a1Prime === 0) {\n    h1Prime = 0\n  } else {\n    h1Prime = Math.atan2(b1, a1Prime)\n    if (h1Prime < 0) {\n      h1Prime += deg360InRad\n    }\n  }\n  let h2Prime\n  if (b2 === 0 && a2Prime === 0) {\n    h2Prime = 0\n  } else {\n    h2Prime = Math.atan2(b2, a2Prime)\n    if (h2Prime < 0) {\n      h2Prime += deg360InRad\n    }\n  }\n  const deltaLPrime = L2 - L1\n  const deltaCPrime = C2Prime - C1Prime\n  const CPrimeProduct = C1Prime * C2Prime\n  let deltahPrime\n  if (CPrimeProduct === 0) {\n    deltahPrime = 0\n  } else {\n    deltahPrime = h2Prime - h1Prime\n    if (deltahPrime < -deg180InRad) {\n      deltahPrime += deg360InRad\n    } else if (deltahPrime > deg180InRad) {\n      deltahPrime -= deg360InRad\n    }\n  }\n  const deltaHPrime = 2 * Math.sqrt(CPrimeProduct) * Math.sin(deltahPrime / 2)\n  const LBar = (L1 + L2) / 2\n  const CBarPrime = (C1Prime + C2Prime) / 2\n  let HBarPrime\n  const hPrimeSum = h1Prime + h2Prime\n  if (CPrimeProduct === 0) {\n    HBarPrime = hPrimeSum\n  } else {\n    if (Math.abs(h1Prime - h2Prime) <= deg180InRad) {\n      HBarPrime = hPrimeSum / 2\n    } else {\n      if (hPrimeSum < deg360InRad) {\n        HBarPrime = (hPrimeSum + deg360InRad) / 2\n      } else {\n        HBarPrime = (hPrimeSum - deg360InRad) / 2\n      }\n    }\n  }\n  const T = 1 - (0.17 * Math.cos(HBarPrime - deg2Rad(30))) +\n    (0.24 * Math.cos(2 * HBarPrime)) +\n    (0.32 * Math.cos((3 * HBarPrime) + deg2Rad(6))) -\n    (0.20 * Math.cos((4 * HBarPrime) - deg2Rad(63)))\n  const S_L = 1 + ((0.015 * Math.pow(LBar - 50, 2)) / Math.sqrt(20 + Math.pow(LBar - 50, 2)))\n  const S_C = 1 + (0.045 * CBarPrime)\n  const S_H = 1 + (0.015 * CBarPrime * T)\n  const R_T_C = Math.pow(CBarPrime, 7)\n  const R_T = -2 * Math.sqrt(R_T_C / (R_T_C + pow25To7)) * Math.sin(deg2Rad(60) * Math.exp(-Math.pow((HBarPrime - deg2Rad(275)) / deg2Rad(25), 2)))\n  return Math.sqrt(\n    Math.pow(deltaLPrime / (k_L * S_L), 2) +\n    Math.pow(deltaCPrime / (k_C * S_C), 2) +\n    Math.pow(deltaHPrime / (k_H * S_H), 2) +\n    (R_T * (deltaCPrime / (k_C * S_C)) * (deltaHPrime / (k_H * S_H)))\n  )\n}\n\nexport function cmc (LabColor1, LabColor2) {\n  const l = 2\n  const c = 1\n  const [L1, a1, b1] = LabColor1\n  const [L2, a2, b2] = LabColor2\n  // eslint-disable-next-line no-unused-vars\n  const [_, c1, h1] = LabToLch(L1, a1, b1)\n  // eslint-disable-next-line no-unused-vars\n  const [__, c2, ___] = LabToLch(L2, a2, b2)\n  const c1Pow4 = c1 * c1 * c1 * c1\n  const F = Math.sqrt(c1Pow4 / (c1Pow4 + 1900))\n  let T\n  if (h1 >= 164 && h1 <= 345) {\n    T = 0.56 + Math.abs(0.2 * Math.cos(deg2Rad(h1 + 168)))\n  } else {\n    T = 0.36 + Math.abs(0.4 * Math.cos(deg2Rad((h1 + 35))))\n  }\n  const sl = L1 < 16 ? 0.511 : (0.040975 * L1) / (1 + 0.01765 * L1)\n  const sc = ((0.0638 * c1) / (1 + 0.0131 * c1)) + 0.638\n  const sh = sc * (F * T + 1 - F)\n  const deltaA = a1 - a2\n  const deltaB = b1 - b2\n  const deltaC = c1 - c2\n  const deltaH = Math.sqrt(deltaA * deltaA + deltaB * deltaB - deltaC * deltaC)\n  return Math.sqrt(\n    Math.pow((L1 - L2) / (l * sl), 2) +\n    Math.pow((c1 - c2) / (c * sc), 2) +\n    Math.pow(deltaH / sh, 2)\n  )\n}\n","/**\n * pixelit - convert an image to Pixel Art, with/out grayscale and based on a color palette.\n * @author José Moreira @ <https://github.com/giventofly/pixelit>\n **/\n\nimport { CIEDE2000, CIEDE76, CIEDE94, cmc, euclidean1, euclidean2, euclidean3, isLightColor, RGB2Lab } from './color'\n\nexport const ALGORITHMS = {\n  CIE76: 'CIE76',\n  CIE94: 'CIE94',\n  CIE2000: 'CIE2000',\n  Euclidean_1: 'Euclidean_1',\n  Euclidean_2: 'Euclidean_2',\n  Euclidean_3: 'Euclidean_3',\n  CMC: 'CMC'\n}\n\n// Lab空间颜色算法\nconst LAB_ALGORITHMS = [ALGORITHMS.CIE76, ALGORITHMS.CIE94, ALGORITHMS.CIE2000, ALGORITHMS.CMC]\n\nexport class Pixelit {\n  constructor (config = {}) {\n    // target for canvas\n    this.drawto = config.to || document.getElementById('pixelitcanvas')\n    // origin of uploaded image/src img\n    this.drawfrom = config.from || document.getElementById('pixelitimg')\n    // 相似颜色算法\n    this.similarColorAlgorithm = config.similarColorAlgorithm || ALGORITHMS.CIE76\n    this.pixelW = config.pixelW || 64\n    this.pixelH = config.pixelH || 64\n    this.palette = config.palette || [\n      [140, 143, 174],\n      [88, 69, 99],\n      [62, 33, 55],\n      [154, 99, 72],\n      [215, 155, 125],\n      [245, 237, 186],\n      [192, 199, 65],\n      [100, 125, 52],\n      [228, 148, 58],\n      [157, 48, 59],\n      [210, 100, 113],\n      [112, 55, 127],\n      [126, 196, 193],\n      [52, 133, 157],\n      [23, 67, 75],\n      [31, 14, 28]\n    ]\n    this.height = config.height\n    this.width = config.width\n    this.ctx = this.drawto.getContext('2d')\n    this.paletteMap = {}\n    this.paletteLab = {}\n    if (LAB_ALGORITHMS.includes(this.similarColorAlgorithm)) {\n      this.palette.map(color => RGB2Lab(...color)).forEach((color, idx) => {\n        this.paletteLab[this.palette[idx].join(',')] = color\n      })\n    }\n  }\n\n  /** hide from image */\n  hideFromImg () {\n    this.drawfrom.style.visibility = 'hidden'\n    this.drawfrom.style.position = 'fixed'\n    this.drawfrom.style.top = 0\n    this.drawfrom.style.left = 0\n    return this\n  }\n\n  /**\n   * @param {string} src Change the src from the image element\n   */\n  setFromImgSource (src) {\n    this.drawfrom.src = src\n    return this\n  }\n\n  /**\n   *\n   * @param {Element} elem set element to read image from\n   */\n  setDrawFrom (elem) {\n    this.drawfrom = elem\n    return this\n  }\n\n  /**\n   *\n   * @param {Element} elem set element canvas to write the image\n   */\n  setDrawTo (elem) {\n    this.drawto = elem\n    return this\n  }\n\n  /**\n   *\n   * @param {array} arr Array of rgb colors: [[int,int,int]]\n   */\n  setPalette (arr) {\n    this.palette = arr\n    return this\n  }\n\n  /**\n   *\n   * @param {string} similarColorAlgorithm\n   */\n  setSimilarColorAlgorithm (similarColorAlgorithm) {\n    this.similarColorAlgorithm = similarColorAlgorithm\n    if (LAB_ALGORITHMS.includes(this.similarColorAlgorithm)) {\n      this.paletteLab = {}\n      this.palette.map(color => RGB2Lab(...color)).forEach((color, idx) => {\n        this.paletteLab[this.palette[idx].join(',')] = color\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {int} width set canvas image width\n   */\n  setWidth (width) {\n    this.width = width\n    return this\n  }\n\n  /**\n   *\n   * @param {int} height set canvas image height\n   */\n  setHeight (height) {\n    this.height = height\n    return this\n  }\n\n  /**\n   *\n   * @param {int} pixelW set pixel number of width\n   */\n  setPixelW (pixelW) {\n    this.pixelW = pixelW\n    return this\n  }\n\n  /**\n   *\n   * @param {int} pixelH set pixel number of height\n   */\n  setPixelH (pixelH) {\n    this.pixelH = pixelH\n    return this\n  }\n\n  /**\n   *\n   returns {arr} of current palette\n   */\n  getPalette () {\n    return this.palette\n  }\n\n  getPaletteMap () {\n    return this.paletteMap\n  }\n\n  /**\n   * color similarity between colors, lower is better\n   * @param {array} color array of ints to make a color: [double,double,double]\n   * @param {array} compareColor array of ints to make a color: [double,double,double]\n   * @param {string} type type of color default rgb\n   * @returns {number} limits [0-441.6729559300637]\n   */\n\n  colorSim (color, compareColor, type = 'RGB') {\n    if (this.similarColorAlgorithm === ALGORITHMS.Euclidean_1) {\n      return euclidean1(color, compareColor)\n    }\n    if (this.similarColorAlgorithm === ALGORITHMS.Euclidean_2) {\n      return euclidean2(color, compareColor)\n    }\n    if (this.similarColorAlgorithm === ALGORITHMS.Euclidean_3) {\n      return euclidean3(color, compareColor)\n    }\n    if (this.similarColorAlgorithm === ALGORITHMS.CIE76) {\n      return CIEDE76(color, compareColor)\n    }\n    if (this.similarColorAlgorithm === ALGORITHMS.CIE94) {\n      return CIEDE94(color, compareColor)\n    }\n    if (this.similarColorAlgorithm === ALGORITHMS.CIE2000) {\n      return CIEDE2000(color, compareColor)\n    }\n    if (this.similarColorAlgorithm === ALGORITHMS.CMC) {\n      return cmc(color, compareColor)\n    }\n  }\n\n  /**\n   * given actualColor, check from the paletteColors the most aproximated color\n   * @param {array} actualColor rgb color to compare [int,int,int]\n   * @returns {array} aproximated rgb color\n   */\n\n  similarColor (actualColor) {\n    let selectedColor = []\n    let minSim = Infinity\n    let type = 'RGB'\n    if ([ALGORITHMS.CIE76, ALGORITHMS.CIE94, ALGORITHMS.CIE2000].includes(this.similarColorAlgorithm)) {\n      actualColor = RGB2Lab(...actualColor)\n      type = 'Lab'\n    }\n    this.palette.forEach((color) => {\n      let _color = color\n      if ([ALGORITHMS.CIE76, ALGORITHMS.CIE94, ALGORITHMS.CIE2000].includes(this.similarColorAlgorithm)) {\n        _color = this.paletteLab[color.join(',')]\n      }\n      const currSim = this.colorSim(actualColor, _color, type)\n      if (currSim <= minSim) {\n        selectedColor = color\n        minSim = currSim\n      }\n    })\n    return selectedColor\n  }\n\n  /**\n   * pixelate based on @author rogeriopvl <https://github.com/rogeriopvl/8bit>\n   * Draws a pixelated version of an image in a given canvas\n   */\n  pixelate () {\n    this.drawto.width = this.drawfrom.naturalWidth\n    this.drawto.height = this.drawfrom.naturalHeight\n\n    const pixelW = this.pixelW\n    const pixelH = this.pixelH\n\n    // make temporary canvas to make new scaled copy\n    const tempCanvas = document.createElement('canvas')\n\n    // get the context\n    const tempContext = tempCanvas.getContext('2d')\n    // draw the image into the canvas\n    tempContext.drawImage(this.drawfrom, 0, 0, pixelW, pixelH)\n    document.body.appendChild(tempCanvas)\n\n    // configs to pixelate\n    this.ctx.mozImageSmoothingEnabled = false\n    this.ctx.webkitImageSmoothingEnabled = false\n    this.ctx.imageSmoothingEnabled = false\n\n    // draw to final canvas\n    this.ctx.drawImage(\n      tempCanvas,\n      0,\n      0,\n      pixelW,\n      pixelH,\n      0,\n      0,\n      this.drawfrom.naturalWidth,\n      this.drawfrom.naturalHeight\n    )\n    // remove temp element\n    tempCanvas.remove()\n\n    return this\n  }\n\n  /**\n   * Converts image to grayscale\n   */\n  convertGrayscale () {\n    const w = this.drawto.width\n    const h = this.drawto.height\n    var imgPixels = this.ctx.getImageData(0, 0, w, h)\n    for (var y = 0; y < imgPixels.height; y++) {\n      for (var x = 0; x < imgPixels.width; x++) {\n        var i = y * 4 * imgPixels.width + x * 4\n        var avg = (imgPixels.data[i] + imgPixels.data[i + 1] + imgPixels.data[i + 2]) / 3\n        imgPixels.data[i] = avg\n        imgPixels.data[i + 1] = avg\n        imgPixels.data[i + 2] = avg\n      }\n    }\n    this.ctx.putImageData(imgPixels, 0, 0, 0, 0, imgPixels.width, imgPixels.height)\n    return this\n  }\n\n  /**\n   * converts image to palette using the defined palette or default palette\n   */\n  convertPalette () {\n    const w = this.drawto.width\n    const h = this.drawto.height\n    var imgPixels = this.ctx.getImageData(0, 0, w, h)\n    let index = 0\n    for (var y = 0; y < imgPixels.height; y++) {\n      for (var x = 0; x < imgPixels.width; x++) {\n        var i = y * 4 * imgPixels.width + x * 4\n        const finalcolor = this.similarColor([\n          imgPixels.data[i],\n          imgPixels.data[i + 1],\n          imgPixels.data[i + 2]\n        ])\n        imgPixels.data[i] = finalcolor[0]\n        imgPixels.data[i + 1] = finalcolor[1]\n        imgPixels.data[i + 2] = finalcolor[2]\n        const k = `${finalcolor[0]},${finalcolor[1]},${finalcolor[2]}`\n        if (this.paletteMap[k]) {\n          this.paletteMap[k].push(index++)\n        } else {\n          this.paletteMap[k] = [index++]\n        }\n      }\n    }\n    this.ctx.putImageData(imgPixels, 0, 0, 0, 0, imgPixels.width, imgPixels.height)\n    return this\n  }\n\n  /**\n   * Resizes image proportionally according to a max width or max height\n   * height takes precedence if definied\n   */\n  resizeImage () {\n    // var ctx = canvas.getContext(\"2d\")\n    const canvasCopy = document.createElement('canvas')\n    const copyContext = canvasCopy.getContext('2d')\n\n    // if none defined skip\n    if (!this.width && !this.height) {\n      return 0\n    }\n\n    canvasCopy.width = this.drawto.width\n    canvasCopy.height = this.drawto.height\n    copyContext.drawImage(this.drawto, 0, 0)\n\n    this.drawto.width = this.width\n    this.drawto.height = this.height\n    this.ctx.mozImageSmoothingEnabled = false\n    this.ctx.webkitImageSmoothingEnabled = false\n    this.ctx.imageSmoothingEnabled = false\n    this.ctx.drawImage(\n      canvasCopy,\n      0,\n      0,\n      canvasCopy.width,\n      canvasCopy.height,\n      0,\n      0,\n      this.drawto.width,\n      this.drawto.height\n    )\n\n    return this\n  }\n\n  /**\n   * draw to canvas from image source and resize\n   *\n   */\n  draw () {\n    // draw image to canvas\n    this.drawto.width = this.drawfrom.width\n    this.drawto.height = this.drawfrom.height\n    // draw\n    this.ctx.drawImage(this.drawfrom, 0, 0)\n    // resize is always done\n    this.resizeImage()\n    return this\n  }\n\n  /**\n   * 画分割线\n   * @return {Pixelit}\n   */\n  drawLine () {\n    const w = this.drawto.width\n    const h = this.drawto.height\n    const unit = this.drawto.width / this.pixelW\n    var imgPixels = this.ctx.getImageData(0, 0, w, h)\n    this.ctx.strokeStyle = 'black'\n    this.ctx.lineWidth = 1\n    for (var y = unit; y < imgPixels.height; y += unit) {\n      this.ctx.beginPath()\n      this.ctx.moveTo(0, y)\n      this.ctx.lineTo(w, y)\n      this.ctx.stroke()\n    }\n    for (var x = unit; x < imgPixels.width; x += unit) {\n      this.ctx.beginPath()\n      this.ctx.moveTo(x, 0)\n      this.ctx.lineTo(x, h)\n      this.ctx.stroke()\n    }\n    return this\n  }\n\n  /**\n   * 填充数字\n   * @return {Pixelit}\n   */\n  fillNumbers () {\n    const containColorKeys = Object.keys(this.paletteMap)\n    if (containColorKeys.length > 0) {\n      const colors = this.palette.filter(c => containColorKeys.includes(c.join(',')))\n      const unit = this.drawto.width / this.pixelW\n      this.ctx.font = `${Math.floor(unit * 0.8)}px sans-serif`\n      this.ctx.textBaseline = 'middle'\n      this.ctx.textAlign = 'center'\n      const offset = 1\n      for (let i = 0; i < colors.length; i++) {\n        const c = colors[i]\n        const k = c.join(',')\n        this.ctx.fillStyle = isLightColor(c[0], c[1], c[2]) ? '#000' : '#fff'\n        for (let j = 0; j < this.paletteMap[k].length; j++) {\n          const x = this.paletteMap[k][j] % this.pixelW\n          const y = Math.floor(this.paletteMap[k][j] / this.pixelW)\n          this.ctx.fillText(`${i + 1}`, x * unit + unit / 2, y * unit + unit / 2 + offset, unit)\n        }\n      }\n    }\n    return this\n  }\n\n  /**\n   * 统计颜色数量\n   */\n  statistics () {\n    const containColorKeys = Object.keys(this.paletteMap)\n    const colors = this.palette.filter(c => containColorKeys.includes(c.join(',')))\n    return colors.map((c, index) => {\n      const k = c.join(',')\n      return {\n        no: index + 1,\n        color: k,\n        count: this.paletteMap[k].length,\n        isLightColor: isLightColor(...c)\n      }\n    })\n  }\n\n  /**\n   * Save image from canvas\n   */\n  saveImage () {\n    const link = document.createElement('a')\n    link.download = 'pxArt.png'\n    link.href = this.drawto\n      .toDataURL('image/png')\n      .replace('image/png', 'image/octet-stream')\n    document.querySelector('body').appendChild(link)\n    link.click()\n    document.querySelector('body').removeChild(link)\n  }\n\n  // end class\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sidebar\"},[_c('div',{staticClass:\"setting\"},[_c('setting')],1),_c('h1',{staticClass:\"title\"},[_vm._v(\"PIXEL ART\")]),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"upload\"},[_c('uploader',{ref:\"uploader\",attrs:{\"accept\":\"image/jpeg,image/png\"}})],1)])],1),_c('el-row',{attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":6}},[_c('label',{staticClass:\"label\"},[_vm._v(\"颜色算法\")])]),_c('el-col',{attrs:{\"span\":18}},[_c('el-select',{staticClass:\"control\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.config.algorithm),callback:function ($$v) {_vm.$set(_vm.config, \"algorithm\", $$v)},expression:\"config.algorithm\"}},_vm._l((_vm.ALGORITHMS),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.value,\"value\":item.key}})}),1)],1)],1),_c('el-row',{attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":6}},[_c('label',{staticClass:\"label\"},[_vm._v(\"模式\")])]),_c('el-col',{attrs:{\"span\":18}},[_c('div',{staticClass:\"mode-group\"},[_c('el-checkbox',{model:{value:(_vm.config.drawLine),callback:function ($$v) {_vm.$set(_vm.config, \"drawLine\", $$v)},expression:\"config.drawLine\"}},[_vm._v(\"像素描边\")]),_c('el-checkbox',{attrs:{\"disabled\":!_vm.havePalette},model:{value:(_vm.config.palette),callback:function ($$v) {_vm.$set(_vm.config, \"palette\", $$v)},expression:\"config.palette\"}},[_vm._v(\"调色板\")]),_c('el-checkbox',{attrs:{\"disabled\":!_vm.havePalette || !_vm.config.palette},model:{value:(_vm.config.fillNums),callback:function ($$v) {_vm.$set(_vm.config, \"fillNums\", $$v)},expression:\"config.fillNums\"}},[_vm._v(\"填充数字\")]),_c('el-checkbox',{attrs:{\"disabled\":!_vm.havePalette || !_vm.config.palette},model:{value:(_vm.config.statistics),callback:function ($$v) {_vm.$set(_vm.config, \"statistics\", $$v)},expression:\"config.statistics\"}},[_vm._v(\"统计\")])],1)])],1),_c('el-row',{attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":6}},[_c('label',{staticClass:\"label\"},[_vm._v(\"亮度\")])]),_c('el-col',{attrs:{\"span\":18}},[_c('div',{staticClass:\"mode-group\"},[_c('el-slider',{attrs:{\"min\":-100,\"max\":100,\"format-tooltip\":_vm.formatTooltip,\"disabled\":!_vm.canvasShowed},on:{\"change\":_vm.handleBrightnessChange},model:{value:(_vm.brightness),callback:function ($$v) {_vm.brightness=$$v},expression:\"brightness\"}})],1)])],1),_c('el-row',{attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":6}},[_c('label',{staticClass:\"label\"},[_vm._v(\"饱和度\")])]),_c('el-col',{attrs:{\"span\":18}},[_c('div',{staticClass:\"mode-group\"},[_c('el-slider',{attrs:{\"min\":-100,\"max\":100,\"format-tooltip\":_vm.formatTooltip,\"disabled\":!_vm.canvasShowed},on:{\"change\":_vm.handleSaturationChange},model:{value:(_vm.saturation),callback:function ($$v) {_vm.saturation=$$v},expression:\"saturation\"}})],1)])],1),_c('el-row',{attrs:{\"gutter\":16}},[_c('el-col',{attrs:{\"span\":6}},[_c('label',{staticClass:\"label\"},[_vm._v(\"对比度\")])]),_c('el-col',{attrs:{\"span\":18}},[_c('div',{staticClass:\"mode-group\"},[_c('el-slider',{attrs:{\"min\":-100,\"max\":100,\"format-tooltip\":_vm.formatTooltip,\"disabled\":!_vm.canvasShowed},on:{\"change\":_vm.handleContrastChange},model:{value:(_vm.contrast),callback:function ($$v) {_vm.contrast=$$v},expression:\"contrast\"}})],1)])],1),_c('el-button',{attrs:{\"icon\":\"el-icon-download\",\"type\":\"primary\",\"disabled\":!_vm.canvasShowed,\"loading\":_vm.downloading},on:{\"click\":_vm.download}},[_vm._v(\"下载图片 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-link',{attrs:{\"underline\":false},on:{\"click\":function($event){_vm.drawerVisible = true}}},[_c('i',{staticClass:\"el-icon-brush\"})]),_c('palette',{attrs:{\"visible\":_vm.drawerVisible},on:{\"update:visible\":function($event){_vm.drawerVisible=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-drawer',{staticClass:\"palette-drawer\",attrs:{\"title\":\"调色板\",\"visible\":_vm.drawerVisible,\"direction\":\"ltr\",\"size\":\"auto\",\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.drawerVisible=$event}}},[_c('div',{staticClass:\"palette-container\"},[_vm._l((_vm.colors),function(item,idx){return _c('palette-color',{key:`color_${idx}`,attrs:{\"name\":item.name,\"value\":item.value},on:{\"remove\":_vm.removeColor}})}),_c('el-button',{staticClass:\"add-btn\",attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.dialogVisible = true}}})],2),_c('div',{staticClass:\"footer\"},[_c('input',{ref:\"input\",staticClass:\"hidden\",attrs:{\"type\":\"file\",\"name\":\"file\",\"accept\":\"application/json\"},on:{\"change\":_vm.handleInputChange}}),_c('el-button',{attrs:{\"icon\":\"el-icon-upload2\"},on:{\"click\":_vm.importPalette}},[_vm._v(\"导入\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-download\"},on:{\"click\":_vm.exportPalette}},[_vm._v(\"导出\")])],1),_c('el-dialog',{attrs:{\"title\":\"新颜色\",\"visible\":_vm.dialogVisible,\"width\":\"300px\",\"append-to-body\":\"\",\"close-on-press-escape\":false,\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"closed\":_vm.handleDialogClosed}},[_c('div',{staticClass:\"create-color-dialog\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\" 名称: \")]),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{ref:\"colorName\",model:{value:(_vm.colorName),callback:function ($$v) {_vm.colorName=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"colorName\"}})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_vm._v(\" 代码: \")]),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{ref:\"colorValue\",attrs:{\"maxlength\":6},model:{value:(_vm.colorValue),callback:function ($$v) {_vm.colorValue=$$v},expression:\"colorValue\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"#\")])],2)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmNewColor}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"palette-color\",class:{ hover : _vm.showAction },on:{\"mouseover\":function($event){_vm.showAction = true},\"mouseout\":function($event){_vm.showAction = false}}},[_c('div',{staticClass:\"color\",style:({background: _vm.value})}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.name))]),_c('div',{staticClass:\"actions\"},[_c('span',{staticClass:\"action\",on:{\"click\":_vm.removeColor}},[_c('i',{staticClass:\"el-icon-delete\"})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"palette-color\" :class=\"{ hover : showAction }\" @mouseover=\"showAction = true\"\n       @mouseout=\"showAction = false\">\n    <div class=\"color\" :style=\"{background: value}\"></div>\n    <div class=\"name\">{{ name }}</div>\n    <div class=\"actions\">\n          <span class=\"action\" @click=\"removeColor\">\n            <i class=\"el-icon-delete\"></i>\n          </span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PaletteColor',\n  props: {\n    value: {\n      type: String,\n      default: '',\n      required: false\n    },\n    name: {\n      type: String,\n      default: '',\n      required: false\n    }\n  },\n  data () {\n    return {\n      showAction: false\n    }\n  },\n  methods: {\n    removeColor () {\n      this.$emit('remove', {\n        name: this.name,\n        value: this.value\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.palette-color {\n  position: relative;\n  display: inline-block;\n  border-radius: 6px;\n  margin-right: 8px;\n  margin-bottom: 8px;\n  width: 80px;\n  border: 1px solid #ddd;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  vertical-align: middle;\n\n  .color {\n    width: calc(100% + 2px);\n    height: 50px;\n    margin: -1px -1px 0 -1px;\n    text-align: center;\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n  }\n\n  .name {\n    color: #2b2b2b;\n    font-size: 13px;\n    line-height: 30px;\n    text-align: center;\n  }\n\n  .actions {\n    position: absolute;\n    width: calc(100% + 2px);\n    height: calc(100% + 2px);\n    left: -1px;\n    top: -1px;\n    cursor: default;\n    text-align: center;\n    color: #fff;\n    border-radius: 6px;\n    opacity: 0;\n    font-size: 20px;\n    background-color: rgba(0, 0, 0, .5);\n    transition: opacity .3s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .action {\n      cursor: pointer;\n      font-size: 16px;\n    }\n  }\n\n  &.hover {\n    .actions {\n      opacity: 1;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaletteColor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaletteColor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaletteColor.vue?vue&type=template&id=18b5fd24&scoped=true&\"\nimport script from \"./PaletteColor.vue?vue&type=script&lang=js&\"\nexport * from \"./PaletteColor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaletteColor.vue?vue&type=style&index=0&id=18b5fd24&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18b5fd24\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 是否16进制格式颜色\n * @param str\n * @return {boolean}\n */\nexport function isColor (str) {\n  return /^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(str)\n}\n","<template>\n  <el-drawer\n    title=\"调色板\"\n    class=\"palette-drawer\"\n    :visible.sync=\"drawerVisible\"\n    direction=\"ltr\"\n    size=\"auto\"\n    :append-to-body=\"true\"\n  >\n    <div class=\"palette-container\">\n      <palette-color v-for=\"(item, idx) of colors\" :key=\"`color_${idx}`\" :name=\"item.name\" :value=\"item.value\"\n                     @remove=\"removeColor\"/>\n      <el-button class=\"add-btn\" size=\"small\" icon=\"el-icon-plus\" @click=\"dialogVisible = true\"></el-button>\n    </div>\n    <div class=\"footer\">\n      <input ref=\"input\" type=\"file\" name=\"file\" accept=\"application/json\" @change=\"handleInputChange\" class=\"hidden\">\n      <el-button @click=\"importPalette\" icon=\"el-icon-upload2\">导入</el-button>\n      <el-button @click=\"exportPalette\" icon=\"el-icon-download\">导出</el-button>\n    </div>\n    <el-dialog\n      title=\"新颜色\"\n      :visible.sync=\"dialogVisible\"\n      width=\"300px\"\n      append-to-body\n      :close-on-press-escape=\"false\"\n      :close-on-click-modal=\"false\"\n      @closed=\"handleDialogClosed\"\n    >\n      <div class=\"create-color-dialog\">\n        <el-row>\n          <el-col :span=\"4\">\n            名称:\n          </el-col>\n          <el-col :span=\"20\">\n            <el-input ref=\"colorName\" v-model.trim=\"colorName\"></el-input>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"4\">\n            代码:\n          </el-col>\n          <el-col :span=\"20\">\n            <el-input ref=\"colorValue\" v-model=\"colorValue\" :maxlength=\"6\">\n              <template slot=\"prepend\">#</template>\n            </el-input>\n          </el-col>\n        </el-row>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmNewColor\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </el-drawer>\n</template>\n\n<script>\nimport PaletteColor from './PaletteColor'\nimport { isColor } from '../../units/validator'\n\nexport default {\n  name: 'Palette',\n  components: { PaletteColor },\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      colors: this.$store.state.app.colors.concat(),\n      drawerVisible: false,\n      dialogVisible: false,\n      colorName: '',\n      shadowColorValue: ''\n    }\n  },\n  computed: {\n    colorValue: {\n      get: function () {\n        return this.shadowColorValue\n      },\n      set: function (val) {\n        this.shadowColorValue = val.toUpperCase()\n      }\n    }\n  },\n  watch: {\n    visible: {\n      immediate: true,\n      handler (val) {\n        this.drawerVisible = val\n      }\n    },\n    drawerVisible (visible) {\n      this.$emit('update:visible', visible)\n    },\n    '$store.state.app.colors' (colors) {\n      this.colors = colors\n    }\n  },\n  methods: {\n    // 保存调色板颜色\n    setLocalPalette (colors) {\n      return this.$store.dispatch('app/setColors', colors || this.colors)\n    },\n    // 删除颜色\n    removeColor (color) {\n      this.colors = this.colors.filter(c => c.name !== color.name)\n      this.setLocalPalette()\n    },\n    // 弹窗关闭\n    handleDialogClosed () {\n      this.colorName = ''\n      this.colorValue = ''\n    },\n    // 确认\n    confirmNewColor () {\n      if (!this.colorName) {\n        this.$notify({\n          type: 'error',\n          title: '请输入颜色名称'\n        })\n        this.$refs.colorName.focus()\n        return\n      }\n      if (!this.colorValue || !isColor('#' + this.colorValue)) {\n        this.$notify({\n          type: 'error',\n          title: '请输入颜色代码'\n        })\n        this.$refs.colorValue.focus()\n        return\n      }\n      if (this.addColor()) {\n        this.dialogVisible = false\n      }\n    },\n    // 添加颜色\n    addColor () {\n      if (!this.colors.some(color => color.name === this.colorName)) {\n        this.colors.push({\n          name: this.colorName,\n          value: '#' + this.colorValue\n        })\n        this.setLocalPalette()\n        return true\n      } else {\n        this.$notify({\n          type: 'error',\n          message: '颜色名称已存在'\n        })\n        return false\n      }\n    },\n    // 上传文件变化\n    handleInputChange (e) {\n      const files = e.target.files\n      if (!files) return\n      const reader = new FileReader()\n      reader.onload = (event) => {\n        // 文件里的文本会在这里被打印出来\n        try {\n          const json = JSON.parse(event.target.result)\n          if (json instanceof Array) {\n            if (json.every(item => item.name && item.value && isColor(item.value))) {\n              const ks = json.map(item => item.name)\n              const set = new Set(ks)\n              if (ks.length === set.size) {\n                this.setLocalPalette(json)\n                this.$notify({\n                  type: 'success',\n                  title: '导入成功'\n                })\n              } else {\n                throw new Error('内容错误')\n              }\n            } else {\n              throw new Error('内容错误')\n            }\n          } else {\n            throw new Error('格式错误')\n          }\n        } catch (e) {\n          this.$notify({\n            type: 'error',\n            title: '文件有误，请确认！'\n          })\n        }\n      }\n      reader.readAsText(files[0])\n    },\n    importPalette () {\n      this.$refs.input.value = null\n      this.$refs.input.click()\n    },\n    // 导出调色板配置\n    exportPalette () {\n      const aTag = document.createElement('a')\n      const blob = new Blob([JSON.stringify(this.colors)])\n      aTag.download = 'palette.json'\n      aTag.href = URL.createObjectURL(blob)\n      aTag.click()\n      URL.revokeObjectURL(blob)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.palette-container {\n  width: 392px;\n  padding: 0 20px 56px 20px;\n  box-sizing: content-box;\n  .palette-color:nth-child(4n) {\n    margin-right: 0;\n  }\n\n  .add-btn {\n    vertical-align: middle;\n    line-height: 61px;\n    width: 80px;\n    font-size: 32px;\n    border-radius: 6px;\n    margin-bottom: 8px;\n  }\n\n}\n\n.footer {\n  position: fixed;\n  width: 392px;\n  bottom: 0;\n  left: 0;\n  padding: 8px 0;\n  background: #ffffff;\n  text-align: center;\n\n  .hidden {\n    display: none;\n  }\n}\n\n.create-color-dialog {\n  .el-row {\n    &:not(:last-child) {\n      margin-bottom: 16px;\n    }\n\n    .el-col {\n      line-height: 32px;\n\n      &.label {\n        text-align: right;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=159a0640&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=159a0640&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"159a0640\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <el-link :underline=\"false\" @click=\"drawerVisible = true\">\n      <i class=\"el-icon-brush\"></i>\n    </el-link>\n    <palette :visible.sync=\"drawerVisible\"/>\n  </div>\n</template>\n\n<script>\n\nimport Palette from './Palette/index'\nexport default {\n  name: 'Setting',\n  components: { Palette },\n  data () {\n    return {\n      drawerVisible: false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-link {\n  font-size: 24px;\n  line-height: 44px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=f09f0ef8&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=f09f0ef8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f09f0ef8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"uploader\"},[(!_vm.previewHtml && !_vm.croppedInfo)?[_c('div',{staticClass:\"el-upload\"},[_c('div',{staticClass:\"el-upload-dragger\",class:{'is-dragover': _vm.dragover},on:{\"click\":_vm.handleClick,\"drop\":function($event){$event.preventDefault();return _vm.handleDrop.apply(null, arguments)},\"dragover\":function($event){$event.preventDefault();return _vm.handleDragOver.apply(null, arguments)},\"dragleave\":function($event){$event.preventDefault();_vm.dragover = false}}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._m(0)]),_c('input',{ref:\"input\",staticClass:\"el-upload__input\",attrs:{\"accept\":_vm.accept,\"type\":\"file\",\"name\":\"file\"},on:{\"change\":_vm.handleChange}})])]:(!_vm.croppedInfo)?[_c('div',{staticClass:\"preview\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.previewHtml)}})])]:[_c('div',{staticClass:\"preview\",class:{ hover : _vm.showPreviewAction },on:{\"mouseover\":function($event){_vm.showPreviewAction = true},\"mouseout\":function($event){_vm.showPreviewAction = false}}},[_c('div',{staticClass:\"show-preview\",staticStyle:{\"overflow\":\"hidden\"},style:({ width: _vm.croppedInfo.width+'px', height: _vm.croppedInfo.height+'px' })},[_c('div',{style:({ width: _vm.croppedInfo.width+'px', height: _vm.croppedInfo.height+'px' })},[_c('img',{ref:\"croppedImage\",attrs:{\"src\":_vm.croppedInfo.url,\"alt\":\"\"},on:{\"load\":_vm.onCroppedImageLoaded}}),_c('img',{ref:\"croppedImageOriginal\",staticStyle:{\"display\":\"none\"},attrs:{\"src\":_vm.croppedInfo.originUrl,\"alt\":\"\"}})])]),_c('div',{staticClass:\"actions\"},[_c('span',{staticClass:\"action\",on:{\"click\":_vm.removeCurrentImage}},[_c('i',{staticClass:\"el-icon-delete\"})])])])],_c('el-dialog',{attrs:{\"visible\":_vm.cropperDialogVisible,\"title\":\"裁剪\",\"append-to-body\":\"\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"width\":\"600px\",\"show-close\":false,\"destroy-on-close\":true},on:{\"update:visible\":function($event){_vm.cropperDialogVisible=$event}}},[_c('cropper',{ref:\"cropper\",attrs:{\"type\":\"64x64\",\"image\":_vm.file},on:{\"real-time-html\":_vm.handleRealTimeChange}}),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确定\")])],1)],1)],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将图片拖到此处，或\"),_c('em',{attrs:{\"data-v-7d622f5c\":\"\"}},[_vm._v(\"点击上传\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cropper\"},[_c('div',{staticStyle:{\"height\":\"300px\"}},[_c('vue-cropper',{ref:\"cropper\",attrs:{\"img\":_vm.image,\"output-type\":\"png\",\"info\":false,\"full\":true,\"can-move-box\":false,\"fixed-box\":true,\"center-box\":true,\"high\":false,\"autoCrop\":true,\"mode\":\"cover\",\"autoCropWidth\":_vm.cropperSize.width,\"autoCropHeight\":_vm.cropperSize.height},on:{\"real-time\":_vm.realTime}})],1),_c('div',{staticClass:\"type-box\"},_vm._l((Object.keys(_vm.SIZE)),function(k){return _c('el-radio',{key:k,attrs:{\"label\":k,\"border\":\"\"},model:{value:(_vm.cropperType),callback:function ($$v) {_vm.cropperType=$$v},expression:\"cropperType\"}},[_vm._v(_vm._s(k))])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cropper\">\n    <div style=\"height: 300px\">\n      <vue-cropper\n        ref=\"cropper\"\n        :img=\"image\"\n        output-type=\"png\"\n        :info=\"false\"\n        :full=\"true\"\n        :can-move-box=\"false\"\n        :fixed-box=\"true\"\n        :center-box=\"true\"\n        :high=\"false\"\n        :autoCrop=\"true\"\n        mode=\"cover\"\n        :autoCropWidth=\"cropperSize.width\"\n        :autoCropHeight=\"cropperSize.height\"\n        @real-time=\"realTime\"\n      ></vue-cropper>\n    </div>\n    <div class=\"type-box\">\n      <el-radio v-for=\"k of Object.keys(SIZE)\" :key=\"k\" v-model=\"cropperType\" :label=\"k\" border>{{ k }}</el-radio>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport { SIZE } from '../constants'\n\nexport default {\n  name: 'Cropper',\n  props: {\n    image: {\n      type: [String, null],\n      default: null,\n      required: false\n    },\n    type: {\n      type: String,\n      default: '64x64',\n      required: false\n    }\n  },\n  data () {\n    return {\n      cropperType: this.type\n    }\n  },\n  computed: {\n    SIZE: () => SIZE,\n    cropperSize () {\n      const [width, height] = SIZE[this.cropperType]\n      return {\n        originWidth: width,\n        originHeight: height,\n        width: width * 3,\n        height: height * 3\n      }\n    }\n  },\n  watch: {\n    type: {\n      immediate: true,\n      handler (val) {\n        this.cropperType = val\n      }\n    },\n    cropperType () {\n      this.$nextTick(() => {\n        this.$refs.cropper.reload()\n      })\n    }\n  },\n  methods: {\n    // 实时裁剪预览\n    realTime (obj) {\n      if (this.image) {\n        this.$emit('real-time-html', obj.html)\n      } else {\n        this.$emit('real-time-html', null)\n      }\n    },\n    // 确认裁剪\n    crop () {\n      return new Promise(resolve => {\n        this.$refs.cropper.getCropBlob(data => {\n          const url = window.URL.createObjectURL(data)\n          URL.revokeObjectURL(data)\n          resolve({\n            originUrl: url,\n            url,\n            originWidth: this.cropperSize.originWidth,\n            originHeight: this.cropperSize.originHeight,\n            width: this.cropperSize.width,\n            height: this.cropperSize.height\n          })\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.type-box {\n  margin-top: 20px;\n\n  .el-radio {\n    margin-left: 0 !important;\n    margin-right: 16px !important;\n\n    &:last-child {\n      margin-right: 0 !important;\n    }\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cropper.vue?vue&type=template&id=4ecd4594&scoped=true&\"\nimport script from \"./Cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./Cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cropper.vue?vue&type=style&index=0&id=4ecd4594&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ecd4594\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"uploader\">\n    <template v-if=\"!previewHtml && !croppedInfo\">\n      <div class=\"el-upload\">\n        <div class=\"el-upload-dragger\"\n             :class=\"{'is-dragover': dragover}\"\n             @click=\"handleClick\"\n             @drop.prevent=\"handleDrop\"\n             @dragover.prevent=\"handleDragOver\"\n             @dragleave.prevent=\"dragover = false\"\n        >\n          <i class=\"el-icon-upload\"></i>\n          <div class=\"el-upload__text\">将图片拖到此处，或<em data-v-7d622f5c=\"\">点击上传</em></div>\n        </div>\n        <input ref=\"input\" :accept=\"accept\" type=\"file\" name=\"file\" @change=\"handleChange\" class=\"el-upload__input\">\n      </div>\n    </template>\n    <template v-else-if=\"!croppedInfo\">\n      <div class=\"preview\">\n        <div v-html=\"previewHtml\"/>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"preview\" :class=\"{ hover : showPreviewAction }\" @mouseover=\"showPreviewAction = true\"\n           @mouseout=\"showPreviewAction = false\">\n        <div class=\"show-preview\" style=\"overflow: hidden\"\n             :style=\"{ width: croppedInfo.width+'px', height: croppedInfo.height+'px' }\">\n          <div :style=\"{ width: croppedInfo.width+'px', height: croppedInfo.height+'px' }\">\n            <img ref=\"croppedImage\" :src=\"croppedInfo.url\" alt=\"\" @load=\"onCroppedImageLoaded\"/>\n            <img ref=\"croppedImageOriginal\" :src=\"croppedInfo.originUrl\" alt=\"\" style=\"display: none\"/>\n          </div>\n        </div>\n        <div class=\"actions\">\n          <span class=\"action\" @click=\"removeCurrentImage\">\n            <i class=\"el-icon-delete\"></i>\n          </span>\n        </div>\n      </div>\n    </template>\n    <el-dialog :visible.sync=\"cropperDialogVisible\" title=\"裁剪\" append-to-body :close-on-click-modal=\"false\"\n               :close-on-press-escape=\"false\" width=\"600px\" :show-close=\"false\" :destroy-on-close=\"true\">\n      <cropper ref=\"cropper\" type=\"64x64\" :image=\"file\" @real-time-html=\"handleRealTimeChange\"/>\n      <div slot=\"footer\">\n        <el-button @click=\"close\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\nimport Cropper from './Cropper'\n\nexport default {\n  name: 'Uploader',\n  components: { Cropper },\n  props: {\n    accept: {\n      type: String,\n      required: false,\n      default: ''\n    }\n  },\n  data () {\n    return {\n      disabled: false,\n      dragover: false,\n      file: null,\n      cropperDialogVisible: false,\n      cropperType: '1',\n      previewHtml: null,\n      croppedInfo: null,\n      showPreviewAction: false\n    }\n  },\n  watch: {\n    file (val) {\n      if (val) {\n        this.cropperDialogVisible = true\n      }\n    }\n  },\n  methods: {\n    // 确定\n    submit () {\n      this.$refs.cropper.crop()\n        .then(info => {\n          this.croppedInfo = info\n          this.file = null\n          this.cropperDialogVisible = false\n        })\n    },\n    // 取消\n    close () {\n      this.cropperDialogVisible = false\n      this.croppedInfo = null\n      this.file = null\n      this.$emit('close')\n    },\n    adjustCroppedInfoUrl (url) {\n      this.croppedInfo.url = url\n    },\n    // 裁剪图片加载完毕\n    onCroppedImageLoaded () {\n      this.$store.dispatch('app/setCroppedImageInfo', {\n        el: this.$refs.croppedImage,\n        originEl: this.$refs.croppedImageOriginal,\n        originUrl: this.croppedInfo.originUrl,\n        scaleWidth: this.croppedInfo.width,\n        scaleHeight: this.croppedInfo.height,\n        width: this.croppedInfo.originWidth,\n        height: this.croppedInfo.originHeight\n      })\n    },\n    // 移除当前图片\n    removeCurrentImage () {\n      this.croppedInfo = null\n      this.$store.dispatch('app/setCroppedImageInfo', null)\n    },\n    // 实时预览变更\n    handleRealTimeChange (html) {\n      this.previewHtml = html\n    },\n    // 当前文件变更\n    handleFileChange (file) {\n      if (file) {\n        this.file = URL.createObjectURL(file)\n        URL.revokeObjectURL(file)\n      } else {\n        this.file = null\n      }\n    },\n    // 点击上传\n    handleClick () {\n      if (!this.disabled) {\n        this.$refs.input.value = null\n        this.$refs.input.click()\n      }\n    },\n    // input value change\n    handleChange (e) {\n      const files = e.target.files\n      if (!files) return\n      this.handleFileChange(files[0])\n    },\n    // 拖拽\n    handleDragOver () {\n      if (!this.disabled) {\n        this.dragover = true\n      }\n    },\n    // 拖拽完成\n    handleDrop (e) {\n      this.dragover = false\n      if (!this.accept) {\n        this.handleFileChange(e.dataTransfer.files[0])\n        return\n      }\n      this.handleFileChange([].slice.call(e.dataTransfer.files).filter(file => {\n        const {\n          type,\n          name\n        } = file\n        const extension = name.indexOf('.') > -1\n          ? `.${name.split('.').pop()}`\n          : ''\n        const baseType = type.replace(/\\/.*$/, '')\n        return this.accept.split(',')\n          .map(type => type.trim())\n          .filter(type => type)\n          .some(acceptedType => {\n            if (/\\..+$/.test(acceptedType)) {\n              return extension === acceptedType\n            }\n            if (/\\/\\*$/.test(acceptedType)) {\n              return baseType === acceptedType.replace(/\\/\\*$/, '')\n            }\n            if (/^[^\\/]+\\/[^\\/]+$/.test(acceptedType)) {\n              return type === acceptedType\n            }\n            return false\n          })\n      })[0])\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.uploader {\n  .el-upload {\n    width: 100%;\n\n    .el-upload-dragger {\n      width: 100%;\n    }\n  }\n\n  .preview {\n    min-height: 192px;\n    border: 1px solid rgb(217, 217, 217);\n    border-radius: 6px;\n\n    ::v-deep {\n      .show-preview {\n        margin: 0 auto;\n\n        img {\n          width: 100%;\n          height: 100%;\n        }\n      }\n    }\n\n    .actions {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      cursor: default;\n      text-align: center;\n      color: #fff;\n      border-radius: 6px;\n      opacity: 0;\n      font-size: 20px;\n      background-color: rgba(0, 0, 0, .5);\n      transition: opacity .3s;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      .action {\n        cursor: pointer;\n      }\n    }\n\n    &.hover {\n      .actions {\n        opacity: 1;\n      }\n    }\n  }\n\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Uploader.vue?vue&type=template&id=ae4ec0fe&scoped=true&\"\nimport script from \"./Uploader.vue?vue&type=script&lang=js&\"\nexport * from \"./Uploader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Uploader.vue?vue&type=style&index=0&id=ae4ec0fe&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae4ec0fe\",\n  null\n  \n)\n\nexport default component.exports","import { HSL2RGB, isLightColor, RGB2HEX, RGB2HSL } from './color'\n\n/**\n * 图片亮度、饱和度、对比度吊装\n * @param {Element} el\n * @param {Object} options width,height,h,s,c percent\n */\nexport function adjust (el, options) {\n  return new Promise(resolve => {\n    const canvasOrigin = document.createElement('canvas')\n    const contextOrigin = canvasOrigin.getContext('2d')\n    canvasOrigin.width = el.naturalWidth\n    canvasOrigin.height = el.naturalHeight\n    contextOrigin.drawImage(el, 0, 0)\n    const canvas = document.createElement('canvas')\n    const context = canvas.getContext('2d')\n    const {\n      width,\n      height\n    } = options\n    canvas.width = width\n    canvas.height = height\n    context.drawImage(\n      canvasOrigin,\n      0,\n      0,\n      canvasOrigin.width,\n      canvasOrigin.height,\n      0,\n      0,\n      width,\n      height\n    )\n    const imgPixels = context.getImageData(0, 0, width, height)\n    let sum = 0\n    for (let y = 0; y < imgPixels.height; y++) {\n      for (let x = 0; x < imgPixels.width; x++) {\n        const i = y * 4 * imgPixels.width + x * 4\n        const R = imgPixels.data[i]\n        const G = imgPixels.data[i + 1]\n        const B = imgPixels.data[i + 2]\n        const hsl = RGB2HSL(R, G, B)\n        // 对比度\n        if (options.c) {\n          // 求和\n          sum += R + G + B\n        }\n        if (options.s || options.l) {\n          // 饱和度\n          if (options.s) {\n            options.s = Math.max(options.s, -1)\n            options.s = Math.min(options.s, 1)\n            hsl[1] *= (1 + options.s)\n          }\n          // 亮度\n          if (options.l) {\n            options.l = Math.max(options.l, -1)\n            options.l = Math.min(options.l, 1)\n            hsl[2] *= (1 + options.l)\n          }\n          const newRGB = HSL2RGB(...hsl)\n          imgPixels.data[i] = newRGB[0]\n          imgPixels.data[i + 1] = newRGB[1]\n          imgPixels.data[i + 2] = newRGB[2]\n        }\n      }\n    }\n    if (options.c) {\n      options.c = Math.max(options.c, -1)\n      options.c = Math.min(options.c, 1)\n      const avg = sum / imgPixels.data.length\n      for (let y = 0; y < imgPixels.height; y++) {\n        for (let x = 0; x < imgPixels.width; x++) {\n          const i = y * 4 * imgPixels.width + x * 4\n          const R = imgPixels.data[i]\n          const G = imgPixels.data[i + 1]\n          const B = imgPixels.data[i + 2]\n          if (options.c < 0) {\n            if (options.c === -1) {\n              const c = Math.round(avg)\n              imgPixels.data[i] = c\n              imgPixels.data[i + 1] = c\n              imgPixels.data[i + 2] = c\n            } else {\n              imgPixels.data[i] = Math.round(R + (R - avg) * options.c)\n              imgPixels.data[i + 1] = Math.round(G + (G - avg) * options.c)\n              imgPixels.data[i + 2] = Math.round(B + (B - avg) * options.c)\n            }\n          } else {\n            const c = 255 * 255 / (255 - 255 * options.c) - 255\n            imgPixels.data[i] = Math.round(R + (R - avg) * c / 255)\n            imgPixels.data[i + 1] = Math.round(G + (G - avg) * c / 255)\n            imgPixels.data[i + 2] = Math.round(B + (B - avg) * c / 255)\n          }\n        }\n      }\n    }\n    context.putImageData(imgPixels, 0, 0, 0, 0, width, height)\n    canvas.toBlob(blob => resolve(blob))\n  })\n}\n\nexport function download (options) {\n  return new Promise((resolve) => {\n    const canvas = document.createElement('canvas')\n    const context = canvas.getContext('2d')\n    canvas.width = options.pixelW\n    canvas.height = options.pixelH\n    context.drawImage(options.el, 0, 0, options.pixelW, options.pixelH)\n\n    const canvasCopy = document.createElement('canvas')\n    const contextCopy = canvasCopy.getContext('2d')\n\n    canvasCopy.width = canvas.width\n    canvasCopy.height = canvas.height\n    contextCopy.drawImage(canvas, 0, 0)\n    const ratio = 32\n    canvas.width = canvas.width * ratio\n    canvas.height = canvas.height * ratio\n    context.mozImageSmoothingEnabled = false\n    context.webkitImageSmoothingEnabled = false\n    context.imageSmoothingEnabled = false\n    context.drawImage(\n      canvasCopy,\n      0,\n      0,\n      canvasCopy.width,\n      canvasCopy.height,\n      0,\n      0,\n      canvas.width,\n      canvas.height\n    )\n    if (options.havePalette) {\n      if (options.drawLine) {\n        const w = canvas.width\n        const h = canvas.height\n        const unit = canvas.width / options.pixelW\n        var imgPixels = context.getImageData(0, 0, w, h)\n        context.strokeStyle = 'black'\n        context.lineWidth = 1\n        for (var y = unit; y < imgPixels.height; y += unit) {\n          context.beginPath()\n          context.moveTo(0, y)\n          context.lineTo(w, y)\n          context.stroke()\n        }\n        for (var x = unit; x < imgPixels.width; x += unit) {\n          context.beginPath()\n          context.moveTo(x, 0)\n          context.lineTo(x, h)\n          context.stroke()\n        }\n      }\n      if (options.fillNums) {\n        const containColorKeys = Object.keys(options.paletteMap)\n        if (containColorKeys.length > 0) {\n          const colors = options.palette.filter(c => containColorKeys.includes(c.join(',')))\n          const unit = canvas.width / options.pixelW\n          context.font = `${Math.round(unit * 0.8)}px sans-serif`\n          context.textBaseline = 'middle'\n          context.textAlign = 'center'\n          const offset = 1\n          for (let i = 0; i < colors.length; i++) {\n            const c = colors[i]\n            const k = c.join(',')\n            context.fillStyle = isLightColor(c[0], c[1], c[2]) ? '#000' : '#fff'\n            for (let j = 0; j < options.paletteMap[k].length; j++) {\n              const x = options.paletteMap[k][j] % options.pixelW\n              const y = Math.floor(options.paletteMap[k][j] / options.pixelW)\n              context.fillText(`${i + 1}`, x * unit + unit / 2, y * unit + unit / 2 + offset, unit)\n            }\n          }\n        }\n      }\n    }\n\n    canvasCopy.width = canvas.width\n    canvasCopy.height = canvas.height\n    contextCopy.drawImage(canvas, 0, 0)\n    const width = canvas.width\n    const height = canvas.height\n    const padding = 64\n    canvas.width = width + 2 * padding\n    canvas.height = height + 2 * padding\n    const containColorKeys = Object.keys(options.paletteMap)\n    const rectW = 3.5 * ratio\n    const rectH = 3.5 * ratio\n    const rectM = 2 * ratio\n    const maxCols = Math.floor((width + rectM) / (rectW + rectM))\n    const cols = Math.min(maxCols, containColorKeys.length)\n    const rows = Math.ceil(containColorKeys.length / maxCols)\n    if (options.havePalette) {\n      canvas.height = canvas.height + (rows * rectH) + (rows - 1) * rectM + padding\n    }\n    context.mozImageSmoothingEnabled = false\n    context.webkitImageSmoothingEnabled = false\n    context.imageSmoothingEnabled = false\n    context.fillStyle = '#fff'\n    context.fillRect(0, 0, canvas.width, canvas.height)\n    context.drawImage(\n      canvasCopy,\n      0,\n      0,\n      canvasCopy.width,\n      canvasCopy.height,\n      padding, // options.x,\n      padding, // options.y,\n      width,\n      height\n    )\n    if (options.havePalette) {\n      const colors = options.palette\n        .filter(c => containColorKeys.includes(c.join(',')))\n        .map((c, index) => {\n          const k = c.join(',')\n          return {\n            no: index + 1,\n            color: RGB2HEX(...c),\n            count: options.paletteMap[k].length,\n            isLightColor: isLightColor(...c)\n          }\n        })\n      /**\n       * 该方法用来绘制一个有填充色的圆角矩形\n       *@param cxt:canvas的上下文环境\n       *@param x:左上角x轴坐标\n       *@param y:左上角y轴坐标\n       *@param width:矩形的宽度\n       *@param height:矩形的高度\n       *@param radius:圆的半径\n       *@param fillColor:填充颜色\n       **/\n      const fillRoundRect = (cxt, x, y, width, height, radius, /* optional */ fillColor) => {\n        // 圆的直径必然要小于矩形的宽高\n        if (2 * radius > width || 2 * radius > height) {\n          return false\n        }\n        cxt.save()\n        cxt.translate(x, y)\n        // 绘制圆角矩形的各个边\n        drawRoundRectPath(cxt, radius, width, height)\n        cxt.fillStyle = fillColor || '#000' // 若是给定了值就用给定的值否则给予默认值\n        cxt.fill()\n        cxt.restore()\n      }\n\n      /**\n       * 该方法用来绘制圆角矩形\n       *@param cxt:canvas的上下文环境\n       *@param x:左上角x轴坐标\n       *@param y:左上角y轴坐标\n       *@param width:矩形的宽度\n       *@param height:矩形的高度\n       *@param radius:圆的半径\n       *@param lineWidth:线条粗细\n       *@param strokeColor:线条颜色\n       **/\n      const strokeRoundRect = (cxt, x, y, width, height, radius, /* optional */ lineWidth, /* optional */ strokeColor) => {\n        // 圆的直径必然要小于矩形的宽高\n        if (2 * radius > width || 2 * radius > height) {\n          return false\n        }\n        cxt.save()\n        cxt.translate(x, y)\n        // 绘制圆角矩形的各个边\n        drawRoundRectPath(cxt, radius, width, height)\n        cxt.lineWidth = lineWidth || 2 // 若是给定了值就用给定的值否则给予默认值2\n        cxt.strokeStyle = strokeColor || '#000'\n        cxt.stroke()\n        cxt.restore()\n      }\n\n      const drawRoundRectPath = (cxt, radius, width, height) => {\n        const [r0, r1, r2, r3] = radius\n        cxt.beginPath()\n        // 从右下角顺时针绘制，弧度从0到1/2PI\n        cxt.arc(width - r0, height - r0, r0, 0, Math.PI / 2)\n        // 矩形下边线\n        cxt.lineTo(r1, height)\n        // 左下角圆弧，弧度从1/2PI到PI\n        cxt.arc(r1, height - r1, r1, Math.PI / 2, Math.PI)\n        // 矩形左边线\n        cxt.lineTo(0, r2)\n        // 左上角圆弧，弧度从PI到3/2PI\n        cxt.arc(r2, r2, r2, Math.PI, Math.PI * 3 / 2)\n        // 上边线\n        cxt.lineTo(width - r3, 0)\n        // 右上角圆弧\n        cxt.arc(width - r3, r3, r3, Math.PI * 3 / 2, Math.PI * 2)\n        // 右边线\n        cxt.lineTo(width, height - r3)\n        cxt.closePath()\n      }\n\n      let count = 0\n      const radius = 12\n      const canvasTmp = document.createElement('canvas')\n      canvasTmp.width = rectW\n      canvasTmp.height = rectH\n      const contextTmp = canvasTmp.getContext('2d')\n      for (let row = 0; row < rows; row++) {\n        for (let col = 0; col < cols; col++) {\n          const x = padding + col * (rectW + rectM)\n          const y = Math.round(height + (padding * 2) + row * (rectH + rectM))\n          const colorInfo = colors[count]\n          context.shadowOffsetX = 0\n          context.shadowOffsetY = 2\n          context.shadowBlur = 12\n          context.shadowColor = 'rgba(0, 0, 0, 0.1)'\n          strokeRoundRect(context, x, y, rectW, rectH, [radius, radius, radius, radius], 1, '#ddd')\n          fillRoundRect(context, x - 1, y - 1, rectW + 2, rectH / 2 + 1, [0, 0, radius, radius], colorInfo.color)\n          fillRoundRect(context, x, y - 1 + Math.floor(rectH / 2), rectW, rectH / 2 + 1, [radius, radius, 0, 0], '#fff')\n          canvasTmp.width = rectW\n          contextTmp.fillStyle = 'rgba(255, 255, 255, 0)'\n          contextTmp.textBaseline = 'middle'\n          contextTmp.textAlign = 'center'\n          contextTmp.font = `${Math.round(rectH / 2 * 0.8)}px sans-serif`\n          contextTmp.fillStyle = colorInfo.isLightColor ? '#000' : '#fff'\n          contextTmp.fillText(colorInfo.no, rectW / 2, rectH / 4, rectW)\n          contextTmp.fillStyle = '#000'\n          contextTmp.fillText(colorInfo.count, rectW / 2, rectH * 3 / 4, rectW)\n          context.drawImage(canvasTmp, x, y)\n          count++\n          if (count === colors.length) {\n            break\n          }\n        }\n      }\n    }\n    const link = document.createElement('a')\n    link.download = 'pixel-art.png'\n    link.href = canvas\n      .toDataURL('image/png')\n      .replace('image/png', 'image/octet-stream')\n    document.querySelector('body').appendChild(link)\n    link.click()\n    document.querySelector('body').removeChild(link)\n    resolve()\n  })\n}\n","<template>\n  <div class=\"sidebar\">\n    <div class=\"setting\">\n      <setting/>\n    </div>\n    <h1 class=\"title\">PIXEL ART</h1>\n    <el-row>\n      <el-col :span=\"24\">\n        <div class=\"upload\">\n          <uploader ref=\"uploader\" accept=\"image/jpeg,image/png\"/>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"16\">\n      <el-col :span=\"6\">\n        <label class=\"label\">颜色算法</label>\n      </el-col>\n      <el-col :span=\"18\">\n        <el-select v-model=\"config.algorithm\" class=\"control\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"item in ALGORITHMS\"\n            :key=\"item.key\"\n            :label=\"item.value\"\n            :value=\"item.key\">\n          </el-option>\n        </el-select>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"16\">\n      <el-col :span=\"6\">\n        <label class=\"label\">模式</label>\n      </el-col>\n      <el-col :span=\"18\">\n        <div class=\"mode-group\">\n          <el-checkbox v-model=\"config.drawLine\">像素描边</el-checkbox>\n          <el-checkbox v-model=\"config.palette\" :disabled=\"!havePalette\">调色板</el-checkbox>\n          <el-checkbox v-model=\"config.fillNums\" :disabled=\"!havePalette || !config.palette\">填充数字</el-checkbox>\n          <el-checkbox v-model=\"config.statistics\" :disabled=\"!havePalette || !config.palette\">统计</el-checkbox>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"16\">\n      <el-col :span=\"6\">\n        <label class=\"label\">亮度</label>\n      </el-col>\n      <el-col :span=\"18\">\n        <div class=\"mode-group\">\n          <el-slider v-model=\"brightness\" :min=\"-100\" :max=\"100\" :format-tooltip=\"formatTooltip\"\n                     :disabled=\"!canvasShowed\" @change=\"handleBrightnessChange\"/>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"16\">\n      <el-col :span=\"6\">\n        <label class=\"label\">饱和度</label>\n      </el-col>\n      <el-col :span=\"18\">\n        <div class=\"mode-group\">\n          <el-slider v-model=\"saturation\" :min=\"-100\" :max=\"100\" :format-tooltip=\"formatTooltip\"\n                     :disabled=\"!canvasShowed\" @change=\"handleSaturationChange\"/>\n        </div>\n      </el-col>\n    </el-row>\n    <el-row :gutter=\"16\">\n      <el-col :span=\"6\">\n        <label class=\"label\">对比度</label>\n      </el-col>\n      <el-col :span=\"18\">\n        <div class=\"mode-group\">\n          <el-slider v-model=\"contrast\" :min=\"-100\" :max=\"100\" :format-tooltip=\"formatTooltip\"\n                     :disabled=\"!canvasShowed\" @change=\"handleContrastChange\"/>\n        </div>\n      </el-col>\n    </el-row>\n    <el-button icon=\"el-icon-download\" type=\"primary\" :disabled=\"!canvasShowed\" :loading=\"downloading\"\n               @click=\"download\">下载图片\n    </el-button>\n  </div>\n</template>\n\n<script>\nimport Setting from './Setting'\nimport Uploader from './Uploader'\nimport { adjust, download } from '../units/image'\nimport { ALGORITHMS } from '../units/pixelit'\n\nexport default {\n  name: 'Sidebar',\n  components: {\n    Uploader,\n    Setting\n  },\n  props: {\n    pixelit: {\n      type: Object,\n      default: null,\n      required: false\n    }\n  },\n  data () {\n    const config = { ...this.$store.state.app.config }\n    return {\n      downloading: false,\n      config,\n      brightness: 0,\n      contrast: 0,\n      saturation: 0\n    }\n  },\n  computed: {\n    ALGORITHMS: () => Object.keys(ALGORITHMS).map(k => ({\n      key: k,\n      value: k\n    })),\n    canvasShowed () {\n      return !!this.croppedImageInfo\n    },\n    havePalette () {\n      return this.$store.state.app.colors.length > 0\n    },\n    croppedImageInfo () {\n      return this.$store.state.app.croppedImageInfo\n    }\n  },\n  watch: {\n    config: {\n      deep: true,\n      handler (val) {\n        this.$store.dispatch('app/setConfig', val)\n      }\n    },\n    croppedImageInfo (newValue, oldValue) {\n      if (!newValue || !oldValue || newValue.originUrl !== oldValue.originUrl) {\n        this.brightness = 0\n        this.contrast = 0\n        this.saturation = 0\n      }\n    }\n  },\n  methods: {\n    formatTooltip (val) {\n      return val\n    },\n    handleBrightnessChange (value) {\n      adjust(this.croppedImageInfo.originEl, {\n        width: this.croppedImageInfo.scaleWidth,\n        height: this.croppedImageInfo.scaleHeight,\n        l: value / 100,\n        s: this.saturation / 100,\n        c: this.contrast / 100\n      })\n        .then(blob => {\n          this.$refs.uploader.adjustCroppedInfoUrl(URL.createObjectURL(blob))\n          URL.revokeObjectURL(blob)\n        })\n    },\n    handleSaturationChange (value) {\n      adjust(this.croppedImageInfo.originEl, {\n        width: this.croppedImageInfo.scaleWidth,\n        height: this.croppedImageInfo.scaleHeight,\n        s: value / 100,\n        l: this.brightness / 100,\n        c: this.contrast / 100\n      })\n        .then(blob => {\n          this.$refs.uploader.adjustCroppedInfoUrl(URL.createObjectURL(blob))\n          URL.revokeObjectURL(blob)\n        })\n    },\n    handleContrastChange (value) {\n      adjust(this.croppedImageInfo.originEl, {\n        width: this.croppedImageInfo.scaleWidth,\n        height: this.croppedImageInfo.scaleHeight,\n        c: value / 100,\n        s: this.saturation / 100,\n        l: this.brightness / 100\n      })\n        .then(blob => {\n          this.$refs.uploader.adjustCroppedInfoUrl(URL.createObjectURL(blob))\n          URL.revokeObjectURL(blob)\n        })\n    },\n    download () {\n      this.downloading = true\n      download({\n        el: document.getElementById('baseCanvasUrl'),\n        palette: this.pixelit.getPalette(),\n        paletteMap: this.pixelit.getPaletteMap(),\n        pixelW: this.croppedImageInfo.width,\n        pixelH: this.croppedImageInfo.height,\n        havePalette: this.havePalette && this.config.palette,\n        fillNums: true,\n        drawLine: true\n      })\n        .then(() => {\n          this.downloading = false\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sidebar {\n  position: relative;\n  padding-left: 16px;\n  padding-right: 16px;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  border-right: 1px solid #CDCDCD;\n\n  .setting {\n    position: absolute;\n    left: 16px;\n    top: 16px;\n  }\n\n  .title {\n    line-height: 44px;\n    margin: 16px 0;\n  }\n\n  .el-row {\n    margin-bottom: 16px;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  .label {\n    display: block;\n    width: 100%;\n    line-height: 32px;\n    text-align: right;\n  }\n\n  .control {\n    width: 100%;\n  }\n\n  .mode-group {\n    text-align: left;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=64646026&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=64646026&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64646026\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <div class=\"sidebar\">\n      <sidebar :pixelit=\"px\"/>\n    </div>\n    <div class=\"container\">\n      <template v-if=\"showCanvas\">\n        <canvas class=\"canvas\" :class=\"{hidden:!canvasReady}\" ref=\"canvas\"></canvas>\n        <img id=\"baseCanvasUrl\" class=\"hidden\" ref=\"baseCanvasUrl\" alt=\"\"/>\n        <div class=\"statistics\" v-if=\"statistics\">\n          <div v-for=\"(item,idx) of statistics\" :key=\"idx\" class=\"statistics-box\">\n            <div class=\"color\" :style=\"{background: `rgba(${item.color})`,color:item.isLightColor ? '#000' : '#fff' }\">\n              {{ item.no }}\n            </div>\n            <div class=\"count\">{{ item.count }}</div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Pixelit } from '../units/pixelit'\nimport Sidebar from '../components/Sidebar'\nimport { HEX2RGB } from '../units/color'\n\nexport default {\n  name: 'Home',\n  components: { Sidebar },\n  data () {\n    return {\n      px: null,\n      croppedImageInfo: null,\n      showCanvas: false,\n      statistics: null,\n      canvasReady: false\n    }\n  },\n  computed: {\n    config () {\n      return this.$store.state.app.config\n    },\n    palette () {\n      return this.$store.state.app.colors.map(color => HEX2RGB(color.value))\n    },\n    havePalette () {\n      return this.palette.length > 0\n    }\n  },\n  watch: {\n    '$store.state.app.croppedImageInfo' (info) {\n      this.showCanvas = !!info\n      this.$nextTick(() => {\n        this.croppedImageInfo = info\n      })\n    },\n    showCanvas (val) {\n      if (!val) {\n        this.canvasReady = false\n      }\n    },\n    croppedImageInfo (info) {\n      if (info) {\n        this.draw()\n      }\n    },\n    config: {\n      deep: true,\n      handler () {\n        this.statistics = null\n        this.draw()\n      }\n    },\n    '$store.state.app.colors' () {\n      if (this.showCanvas) {\n        this.draw()\n      }\n    }\n  },\n  methods: {\n    draw () {\n      const {\n        el,\n        width,\n        height\n      } = this.croppedImageInfo\n      const {\n        algorithm,\n        drawLine,\n        palette,\n        fillNums,\n        statistics\n      } = this.config\n      const ratio = 800 / width\n      this.px = new Pixelit({\n        to: this.$refs.canvas,\n        from: el,\n        similarColorAlgorithm: algorithm,\n        pixelW: width,\n        pixelH: height,\n        palette: this.palette,\n        width: width * ratio,\n        height: height * ratio\n      })\n      this.px.draw()\n        .pixelate()\n        .setWidth(width)\n        .setHeight(height)\n        .resizeImage()\n      if (this.havePalette && palette) {\n        this.px.convertPalette()\n      }\n      this.$refs.canvas.toBlob((blobObj) => {\n        this.$refs.baseCanvasUrl.src = window.URL.createObjectURL(blobObj)\n        this.px.setWidth(width * ratio)\n          .setHeight(height * ratio)\n          .resizeImage()\n        if (drawLine) {\n          this.px.drawLine()\n        }\n        if (this.havePalette && fillNums) {\n          this.px.fillNumbers()\n        }\n        if (this.havePalette && statistics) {\n          this.statistics = this.px.statistics()\n        }\n        this.canvasReady = true\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.home {\n  display: flex;\n  height: 100vh;\n\n  .sidebar {\n    position: fixed;\n    background: #fff;\n    width: 360px;\n    height: 100%;\n    z-index: 2000;\n  }\n\n  .container {\n    margin-left: 392px;\n    padding: 16px 0;\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    justify-content: flex-start;\n    align-items: center;\n    overflow: auto;\n\n    .hidden {\n      display: none;\n    }\n\n    .statistics {\n      margin-top: 32px;\n      width: 100%;\n      display: flex;\n      flex-flow: wrap;\n      box-sizing: border-box;\n      padding: 0 16px;\n\n      .statistics-box {\n        display: inline-block;\n        border-radius: 6px;\n        margin: 8px;\n        width: 44px;\n        border: 1px solid #ddd;\n        box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n\n        .color {\n          width: calc(100% + 2px);\n          height: 22px;\n          margin: -1px -1px 0 -1px;\n          line-height: 22px;\n          text-align: center;\n          border-top-left-radius: 6px;\n          border-top-right-radius: 6px;\n        }\n\n        .count {\n          line-height: 22px;\n          text-align: center;\n        }\n      }\n    }\n\n  }\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=6cf0385c&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=6cf0385c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cf0385c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\n// https://webpack.js.org/guides/dependency-management/#requirecontext\nconst modulesFiles = require.context('./modules', true, /\\.js$/)\n\n// you do not need `import app from './modules/app'`\n// it will auto require all vuex module from modules file\nconst modules = modulesFiles.keys().reduce((modules, modulePath) => {\n  // set './app.js' => 'app'\n  const moduleName = modulePath.replace(/^\\.\\/(.*)\\.\\w+$/, '$1')\n  const value = modulesFiles(modulePath)\n  modules[moduleName] = value.default\n  return modules\n}, {})\n\nconst store = new Vuex.Store({\n  modules\n})\n\nexport default store\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport ElementUI from 'element-ui'\nimport VueCropper from 'vue-cropper'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport './styles/index.scss'\n\nVue.config.productionTip = false\n\nVue.use(ElementUI, { size: 'small' })\nVue.use(VueCropper)\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","export const ALGORITHMS = [\n  {\n    key: 'CIE76',\n    value: 'CIE76'\n  }\n]\n\nexport const SIZE = {\n  '64x64': [64, 64],\n  '64x96': [64, 96],\n  '96x64': [96, 64]\n}\n\nexport const DEFAULT_COLORS = [{\n  name: '黄色',\n  value: '#d5c520'\n}, {\n  name: '蓝灰',\n  value: '#98b0cc'\n}, {\n  name: '千岁绿',\n  value: '#1d6c4e'\n}, {\n  name: '练色',\n  value: '#d5c4a1'\n}, {\n  name: '丁香色',\n  value: '#c0a0e0'\n}, {\n  name: '黑色',\n  value: '#000000'\n}, {\n  name: '白色',\n  value: '#f0f0f0'\n}, {\n  name: '枯茶',\n  value: '#513127'\n}, {\n  name: '银灰',\n  value: '#56595c'\n}, {\n  name: '浅蓝',\n  value: '#7c98ae'\n}, {\n  name: '草绿',\n  value: '#84be3d'\n}, {\n  name: '真红',\n  value: '#920a09'\n}, {\n  name: '品红',\n  value: '#c40098'\n}, {\n  name: '淡灰',\n  value: '#a4a9a7'\n}, {\n  name: '淡棕色',\n  value: '#745e41'\n}, {\n  name: '浅棕色',\n  value: '#8d6d41'\n}, {\n  name: '虾黄',\n  value: '#ba8f5e'\n}, {\n  name: '浅澄',\n  value: '#fb9966'\n}, {\n  name: '橙色',\n  value: '#ea8b5d'\n}, {\n  name: '蓝色',\n  value: '#355db5'\n}, {\n  name: '紫蓝色',\n  value: '#150057'\n}, {\n  name: '紫色',\n  value: '#4b215d'\n}, {\n  name: '浅绿',\n  value: '#4ea7b5'\n}, {\n  name: '墨绿',\n  value: '#1d4942'\n}]\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Uploader.vue?vue&type=style&index=0&id=ae4ec0fe&prod&lang=scss&scoped=true&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=200c8304&prod&lang=scss&\"","var map = {\n\t\"./app.js\": \"d9cd\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"c653\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=6cf0385c&prod&lang=scss&scoped=true&\"","import { DEFAULT_COLORS } from '../../constants'\n\nconst state = {\n  croppedImageInfo: null,\n  colors: localStorage.getItem('palette') ? JSON.parse(localStorage.getItem('palette')) : DEFAULT_COLORS,\n  config: {\n    algorithm: 'CIE76',\n    drawLine: true,\n    palette: true,\n    fillNums: true,\n    statistics: true\n  }\n}\n\nconst mutations = {\n  SET_CROPPED_IMAGE_INFO: (state, info) => {\n    state.croppedImageInfo = info\n  },\n  SET_CONFIG: (state, config) => {\n    state.config = config\n  },\n  SET_COLORS: (state, colors) => {\n    state.colors = colors\n  }\n}\n\nconst actions = {\n  setCroppedImageInfo ({ commit }, info) {\n    commit('SET_CROPPED_IMAGE_INFO', info)\n  },\n  setConfig ({ commit }, config) {\n    commit('SET_CONFIG', config)\n  },\n  setColors ({ commit }, colors) {\n    localStorage.setItem('palette', JSON.stringify(colors))\n    commit('SET_COLORS', colors)\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=159a0640&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=style&index=0&id=4ecd4594&prod&lang=scss&scoped=true&\""],"sourceRoot":""}